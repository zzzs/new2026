
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file
"use strict";var _l=Object.create;var hr=Object.defineProperty;var Fl=Object.getOwnPropertyDescriptor;var $l=Object.getOwnPropertyNames;var Vl=Object.getPrototypeOf,Ul=Object.prototype.hasOwnProperty;var we=(e,t)=>()=>(e&&(t=e(e=0)),t);var ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),it=(e,t)=>{for(var r in t)hr(e,r,{get:t[r],enumerable:!0})},Ki=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $l(t))!Ul.call(e,i)&&i!==r&&hr(e,i,{get:()=>t[i],enumerable:!(n=Fl(t,i))||n.enumerable});return e};var Qe=(e,t,r)=>(r=e!=null?_l(Vl(e)):{},Ki(t||!e||!e.__esModule?hr(r,"default",{value:e,enumerable:!0}):r,e)),Zi=e=>Ki(hr({},"__esModule",{value:!0}),e);function In(e,t){if(t=t.toLowerCase(),t==="utf8"||t==="utf-8")return new h(Ql.encode(e));if(t==="base64"||t==="base64url")return e=e.replace(/-/g,"+").replace(/_/g,"/"),e=e.replace(/[^A-Za-z0-9+/]/g,""),new h([...atob(e)].map(r=>r.charCodeAt(0)));if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return new h([...e].map(r=>r.charCodeAt(0)));if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let r=new h(e.length*2),n=new DataView(r.buffer);for(let i=0;i<e.length;i++)n.setUint16(i*2,e.charCodeAt(i),!0);return r}if(t==="hex"){let r=new h(e.length/2);for(let n=0,i=0;i<e.length;i+=2,n++)r[n]=parseInt(e.slice(i,i+2),16);return r}Xi(`encoding "${t}"`)}function ql(e){let r=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith("get")||a.startsWith("set")),n=r.map(a=>a.replace("get","read").replace("set","write")),i=(a,m)=>function(f=0){return H(f,"offset"),se(f,"offset"),W(f,"offset",this.length-1),new DataView(this.buffer)[r[a]](f,m)},o=(a,m)=>function(f,T=0){let A=r[a].match(/set(\w+\d+)/)[1].toLowerCase(),C=jl[A];return H(T,"offset"),se(T,"offset"),W(T,"offset",this.length-1),Bl(f,"value",C[0],C[1]),new DataView(this.buffer)[r[a]](T,f,m),T+parseInt(r[a].match(/\d+/)[0])/8},s=a=>{a.forEach(m=>{m.includes("Uint")&&(e[m.replace("Uint","UInt")]=e[m]),m.includes("Float64")&&(e[m.replace("Float64","Double")]=e[m]),m.includes("Float32")&&(e[m.replace("Float32","Float")]=e[m])})};n.forEach((a,m)=>{a.startsWith("read")&&(e[a]=i(m,!1),e[a+"LE"]=i(m,!0),e[a+"BE"]=i(m,!1)),a.startsWith("write")&&(e[a]=o(m,!1),e[a+"LE"]=o(m,!0),e[a+"BE"]=o(m,!1)),s([a,a+"LE",a+"BE"])})}function Xi(e){throw new Error(`Buffer polyfill does not implement "${e}"`)}function wr(e,t){if(!(e instanceof Uint8Array))throw new TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function W(e,t,r=Gl+1){if(e<0||e>r){let n=new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function H(e,t){if(typeof e!="number"){let r=new TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function se(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=new RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function Bl(e,t,r,n){if(e<r||e>n){let i=new RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}function Yi(e,t){if(typeof e!="string"){let r=new TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function Wl(e,t="utf8"){return h.from(e,t)}var h,jl,Ql,Jl,Hl,Gl,g,kn,u=we(()=>{"use strict";h=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return Yi(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(t){return t&&!!t._isBuffer}static byteLength(t,r="utf8"){if(typeof t=="string")return In(t,r).byteLength;if(t&&t.byteLength)return t.byteLength;let n=new TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw n.code="ERR_INVALID_ARG_TYPE",n}static isEncoding(t){return Hl.includes(t)}static compare(t,r){wr(t,"buff1"),wr(r,"buff2");for(let n=0;n<t.length;n++){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return t.length===r.length?0:t.length>r.length?1:-1}static from(t,r="utf8"){if(t&&typeof t=="object"&&t.type==="Buffer")return new e(t.data);if(typeof t=="number")return new e(new Uint8Array(t));if(typeof t=="string")return In(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:n,byteLength:i,buffer:o}=t;return"map"in t&&typeof t.map=="function"?new e(t.map(s=>s%256),n,i):new e(o,n,i)}if(t&&typeof t=="object"&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(t.length===0)return e.alloc(0);let n=[].concat(...t.map(o=>[...o])),i=e.alloc(r!==void 0?r:n.length);return i.set(r!==void 0?n.slice(0,r):n),i}slice(t=0,r=this.length){return this.subarray(t,r)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(t,r){H(t,"offset"),se(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),se(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return n.getUint8(0)&128&&(i-=Math.pow(256,r)),i}readIntLE(t,r){H(t,"offset"),se(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),se(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return n.getUint8(r-1)&128&&(i-=Math.pow(256,r)),i}readUIntBE(t,r){H(t,"offset"),se(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),se(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return i}readUintBE(t,r){return this.readUIntBE(t,r)}readUIntLE(t,r){H(t,"offset"),se(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),se(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return i}readUintLE(t,r){return this.readUIntLE(t,r)}writeIntBE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntBE(t,r,n)}writeIntLE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntLE(t,r,n)}writeUIntBE(t,r,n){H(r,"offset"),se(r,"offset"),W(r,"offset",this.length-1),H(n,"byteLength"),se(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=n-1;o>=0;o--)i.setUint8(o,t&255),t=t/256;return r+n}writeUintBE(t,r,n){return this.writeUIntBE(t,r,n)}writeUIntLE(t,r,n){H(r,"offset"),se(r,"offset"),W(r,"offset",this.length-1),H(n,"byteLength"),se(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=0;o<n;o++)i.setUint8(o,t&255),t=t/256;return r+n}writeUintLE(t,r,n){return this.writeUIntLE(t,r,n)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=2)t.setUint16(r,t.getUint16(r,!0),!1);return this}swap32(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=4)t.setUint32(r,t.getUint32(r,!0),!1);return this}swap64(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=8)t.setBigUint64(r,t.getBigUint64(r,!0),!1);return this}compare(t,r=0,n=t.length,i=0,o=this.length){return wr(t,"target"),H(r,"targetStart"),H(n,"targetEnd"),H(i,"sourceStart"),H(o,"sourceEnd"),W(r,"targetStart"),W(n,"targetEnd",t.length),W(i,"sourceStart"),W(o,"sourceEnd",this.length),e.compare(this.slice(i,o),t.slice(r,n))}equals(t){return wr(t,"otherBuffer"),this.length===t.length&&this.every((r,n)=>r===t[n])}copy(t,r=0,n=0,i=this.length){W(r,"targetStart"),W(n,"sourceStart",this.length),W(i,"sourceEnd"),r>>>=0,n>>>=0,i>>>=0;let o=0;for(;n<i&&!(this[n]===void 0||t[r]===void 0);)t[r]=this[n],o++,n++,r++;return o}write(t,r,n,i="utf8"){let o=typeof r=="string"?0:r??0,s=typeof n=="string"?this.length-o:n??this.length-o;return i=typeof r=="string"?r:typeof n=="string"?n:i,H(o,"offset"),H(s,"length"),W(o,"offset",this.length),W(s,"length",this.length),(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")&&(s=s-s%2),In(t,i).copy(this,o,0,s)}fill(t=0,r=0,n=this.length,i="utf-8"){let o=typeof r=="string"?0:r,s=typeof n=="string"?this.length:n;if(i=typeof r=="string"?r:typeof n=="string"?n:i,t=e.from(typeof t=="number"?[t]:t??[],i),Yi(i,"encoding"),W(o,"offset",this.length),W(s,"end",this.length),t.length!==0)for(let a=o;a<s;a+=t.length)super.set(t.slice(0,t.length+a>=this.length?this.length-a:t.length),a);return this}includes(t,r=null,n="utf-8"){return this.indexOf(t,r,n)!==-1}lastIndexOf(t,r=null,n="utf-8"){return this.indexOf(t,r,n,!0)}indexOf(t,r=null,n="utf-8",i=!1){let o=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n=typeof r=="string"?r:n;let s=e.from(typeof t=="number"?[t]:t,n),a=typeof r=="string"?0:r;return a=typeof r=="number"?a:null,a=Number.isNaN(a)?null:a,a??=i?this.length:0,a=a<0?this.length+a:a,s.length===0&&i===!1?a>=this.length?this.length:a:s.length===0&&i===!0?(a>=this.length?this.length:a)||this.length:o((m,f)=>(i?f<=a:f>=a)&&this[f]===s[0]&&s.every((A,C)=>this[f+C]===A))}toString(t="utf8",r=0,n=this.length){if(r=r<0?0:r,t=t.toString().toLowerCase(),n<=0)return"";if(t==="utf8"||t==="utf-8")return Jl.decode(this.slice(r,n));if(t==="base64"||t==="base64url"){let i=btoa(this.reduce((o,s)=>o+kn(s),""));return t==="base64url"?i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):i}if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return this.slice(r,n).reduce((i,o)=>i+kn(o&(t==="ascii"?127:255)),"");if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let i=new DataView(this.buffer.slice(r,n));return Array.from({length:i.byteLength/2},(o,s)=>s*2+1<i.byteLength?kn(i.getUint16(s*2,!0)):"").join("")}if(t==="hex")return this.slice(r,n).reduce((i,o)=>i+o.toString(16).padStart(2,"0"),"");Xi(`encoding "${t}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}};jl={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},Ql=new TextEncoder,Jl=new TextDecoder,Hl=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],Gl=4294967295;ql(h.prototype);g=new Proxy(Wl,{construct(e,[t,r]){return h.from(t,r)},get(e,t){return h[t]}}),kn=String.fromCodePoint});var y,x,l=we(()=>{"use strict";y={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:x}=y});var w,c=we(()=>{"use strict";w=globalThis.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()});var b,p=we(()=>{"use strict";b=()=>{};b.prototype=b});function no(e,t){var r,n,i,o,s,a,m,f,T=e.constructor,A=T.precision;if(!e.s||!t.s)return t.s||(t=new T(e)),B?_(t,A):t;if(m=e.d,f=t.d,s=e.e,i=t.e,m=m.slice(),o=s-i,o){for(o<0?(n=m,o=-o,a=f.length):(n=f,i=s,a=m.length),s=Math.ceil(A/V),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=m.length,o=f.length,a-o<0&&(o=a,n=f,f=m,m=n),r=0;o;)r=(m[--o]=m[o]+f[o]+r)/z|0,m[o]%=z;for(r&&(m.unshift(r),++i),a=m.length;m[--a]==0;)m.pop();return t.d=m,t.e=i,B?_(t,A):t}function xe(e,t,r){if(e!==~~e||e<t||e>r)throw Error(He+e)}function be(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=V-n.length,r&&(o+=Me(r)),o+=n;s=e[t],n=s+"",r=V-n.length,r&&(o+=Me(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function io(e,t){var r,n,i,o,s,a,m=0,f=0,T=e.constructor,A=T.precision;if(G(e)>16)throw Error(Nn+G(e));if(!e.s)return new T(ue);for(t==null?(B=!1,a=A):a=t,s=new T(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(Je(2,f))/Math.LN10*2+5|0,a+=n,r=i=o=new T(ue),T.precision=a;;){if(i=_(i.times(e),a),r=r.times(++m),s=o.plus(Ie(i,r,a)),be(s.d).slice(0,a)===be(o.d).slice(0,a)){for(;f--;)o=_(o.times(o),a);return T.precision=A,t==null?(B=!0,_(o,A)):o}o=s}}function G(e){for(var t=e.e*V,r=e.d[0];r>=10;r/=10)t++;return t}function On(e,t,r){if(t>e.LN10.sd())throw B=!0,r&&(e.precision=r),Error(ce+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function Me(e){for(var t="";e--;)t+="0";return t}function Nt(e,t){var r,n,i,o,s,a,m,f,T,A=1,C=10,S=e,N=S.d,R=S.constructor,I=R.precision;if(S.s<1)throw Error(ce+(S.s?"NaN":"-Infinity"));if(S.eq(ue))return new R(0);if(t==null?(B=!1,f=I):f=t,S.eq(10))return t==null&&(B=!0),On(R,f);if(f+=C,R.precision=f,r=be(N),n=r.charAt(0),o=G(S),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)S=S.times(e),r=be(S.d),n=r.charAt(0),A++;o=G(S),n>1?(S=new R("0."+r),o++):S=new R(n+"."+r.slice(1))}else return m=On(R,f+2,I).times(o+""),S=Nt(new R(n+"."+r.slice(1)),f-C).plus(m),R.precision=I,t==null?(B=!0,_(S,I)):S;for(a=s=S=Ie(S.minus(ue),S.plus(ue),f),T=_(S.times(S),f),i=3;;){if(s=_(s.times(T),f),m=a.plus(Ie(s,new R(i),f)),be(m.d).slice(0,f)===be(a.d).slice(0,f))return a=a.times(2),o!==0&&(a=a.plus(On(R,f+2,I).times(o+""))),a=Ie(a,new R(A),f),R.precision=I,t==null?(B=!0,_(a,I)):a;a=m,i+=2}}function eo(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=st(r/V),e.d=[],n=(r+1)%V,r<0&&(n+=V),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=V;n<i;)e.d.push(+t.slice(n,n+=V));t=t.slice(n),n=V-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),B&&(e.e>br||e.e<-br))throw Error(Nn+r)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,r){var n,i,o,s,a,m,f,T,A=e.d;for(s=1,o=A[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=V,i=t,f=A[T=0];else{if(T=Math.ceil((n+1)/V),o=A.length,T>=o)return e;for(f=o=A[T],s=1;o>=10;o/=10)s++;n%=V,i=n-V+s}if(r!==void 0&&(o=Je(10,s-i-1),a=f/o%10|0,m=t<0||A[T+1]!==void 0||f%o,m=r<4?(a||m)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||m||r==6&&(n>0?i>0?f/Je(10,s-i):0:A[T-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return m?(o=G(e),A.length=1,t=t-o-1,A[0]=Je(10,(V-t%V)%V),e.e=st(-t/V)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=T,o=1,T--):(A.length=T+1,o=Je(10,V-n),A[T]=i>0?(f/Je(10,s-i)%Je(10,i)|0)*o:0),m)for(;;)if(T==0){(A[0]+=o)==z&&(A[0]=1,++e.e);break}else{if(A[T]+=o,A[T]!=z)break;A[T--]=0,o=1}for(n=A.length;A[--n]===0;)A.pop();if(B&&(e.e>br||e.e<-br))throw Error(Nn+G(e));return e}function oo(e,t){var r,n,i,o,s,a,m,f,T,A,C=e.constructor,S=C.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new C(e),B?_(t,S):t;if(m=e.d,A=t.d,n=t.e,f=e.e,m=m.slice(),s=f-n,s){for(T=s<0,T?(r=m,s=-s,a=A.length):(r=A,n=f,a=m.length),i=Math.max(Math.ceil(S/V),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=m.length,a=A.length,T=i<a,T&&(a=i),i=0;i<a;i++)if(m[i]!=A[i]){T=m[i]<A[i];break}s=0}for(T&&(r=m,m=A,A=r,t.s=-t.s),a=m.length,i=A.length-a;i>0;--i)m[a++]=0;for(i=A.length;i>s;){if(m[--i]<A[i]){for(o=i;o&&m[--o]===0;)m[o]=z-1;--m[o],m[i]+=z}m[i]-=A[i]}for(;m[--a]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,B?_(t,S):t):new C(0)}function Ge(e,t,r){var n,i=G(e),o=be(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Me(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Me(-i-1)+o,r&&(n=r-s)>0&&(o+=Me(n))):i>=s?(o+=Me(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Me(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Me(n))),e.s<0?"-"+o:o}function to(e,t){if(e.length>t)return e.length=t,!0}function so(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(He+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return eo(s,o.toString())}else if(typeof o!="string")throw Error(He+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Kl.test(o))eo(s,o);else throw Error(He+o)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=so,i.config=i.set=Zl,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Zl(e){if(!e||typeof e!="object")throw Error(ce+"Object expected");var t,r,n,i=["precision",1,ot,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(st(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(He+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(He+r+": "+n);return this}var ot,zl,ao,B,ce,He,Nn,st,Je,Kl,ue,z,V,ro,br,v,Ie,ao,uo=we(()=>{"use strict";u();l();c();p();d();ot=1e9,zl={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B=!0,ce="[DecimalError] ",He=ce+"Invalid argument: ",Nn=ce+"Exponent out of range: ",st=Math.floor,Je=Math.pow,Kl=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,z=1e7,V=7,ro=9007199254740991,br=st(ro/V),v={};v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};v.comparedTo=v.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*V;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};v.dividedBy=v.div=function(e){return Ie(this,new this.constructor(e))};v.dividedToIntegerBy=v.idiv=function(e){var t=this,r=t.constructor;return _(Ie(t,new r(e),0,1),r.precision)};v.equals=v.eq=function(e){return!this.cmp(e)};v.exponent=function(){return G(this)};v.greaterThan=v.gt=function(e){return this.cmp(e)>0};v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0};v.isInteger=v.isint=function(){return this.e>this.d.length-2};v.isNegative=v.isneg=function(){return this.s<0};v.isPositive=v.ispos=function(){return this.s>0};v.isZero=function(){return this.s===0};v.lessThan=v.lt=function(e){return this.cmp(e)<0};v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1};v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ue))throw Error(ce+"NaN");if(r.s<1)throw Error(ce+(r.s?"NaN":"-Infinity"));return r.eq(ue)?new n(0):(B=!1,t=Ie(Nt(r,o),Nt(e,o),o),B=!0,_(t,i))};v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oo(t,e):no(t,(e.s=-e.s,e))};v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ce+"NaN");return r.s?(B=!1,t=Ie(r,e,0,1).times(e),B=!0,r.minus(t)):_(new n(r),i)};v.naturalExponential=v.exp=function(){return io(this)};v.naturalLogarithm=v.ln=function(){return Nt(this)};v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?no(t,e):oo(t,(e.s=-e.s,e))};v.precision=v.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(He+e);if(t=G(i)+1,n=i.d.length-1,r=n*V+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};v.squareRoot=v.sqrt=function(){var e,t,r,n,i,o,s,a=this,m=a.constructor;if(a.s<1){if(!a.s)return new m(0);throw Error(ce+"NaN")}for(e=G(a),B=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=be(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=st((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(i.toString()),r=m.precision,i=s=r+3;;)if(o=n,n=o.plus(Ie(a,o,s+2)).times(.5),be(o.d).slice(0,s)===(t=be(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(_(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return B=!0,_(n,r)};v.times=v.mul=function(e){var t,r,n,i,o,s,a,m,f,T=this,A=T.constructor,C=T.d,S=(e=new A(e)).d;if(!T.s||!e.s)return new A(0);for(e.s*=T.s,r=T.e+e.e,m=C.length,f=S.length,m<f&&(o=C,C=S,S=o,s=m,m=f,f=s),o=[],s=m+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=m+n;i>n;)a=o[i]+S[n]*C[i-n-1]+t,o[i--]=a%z|0,t=a/z|0;o[i]=(o[i]+t)%z|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,B?_(e,A.precision):e};v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xe(e,0,ot),t===void 0?t=n.rounding:xe(t,0,8),_(r,e+G(r)+1,t))};v.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ge(n,!0):(xe(e,0,ot),t===void 0?t=i.rounding:xe(t,0,8),n=_(new i(n),e+1,t),r=Ge(n,!0,e+1)),r};v.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?Ge(i):(xe(e,0,ot),t===void 0?t=o.rounding:xe(t,0,8),n=_(new o(i),e+G(i)+1,t),r=Ge(n.abs(),!1,e+G(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};v.toInteger=v.toint=function(){var e=this,t=e.constructor;return _(new t(e),G(e)+1,t.rounding)};v.toNumber=function(){return+this};v.toPower=v.pow=function(e){var t,r,n,i,o,s,a=this,m=a.constructor,f=12,T=+(e=new m(e));if(!e.s)return new m(ue);if(a=new m(a),!a.s){if(e.s<1)throw Error(ce+"Infinity");return a}if(a.eq(ue))return a;if(n=m.precision,e.eq(ue))return _(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=T<0?-T:T)<=ro){for(i=new m(ue),t=Math.ceil(n/V+4),B=!1;r%2&&(i=i.times(a),to(i.d,t)),r=st(r/2),r!==0;)a=a.times(a),to(a.d,t);return B=!0,e.s<0?new m(ue).div(i):_(i,n)}}else if(o<0)throw Error(ce+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,B=!1,i=e.times(Nt(a,n+f)),B=!0,i=io(i),i.s=o,i};v.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=G(i),n=Ge(i,r<=o.toExpNeg||r>=o.toExpPos)):(xe(e,1,ot),t===void 0?t=o.rounding:xe(t,0,8),i=_(new o(i),e,t),r=G(i),n=Ge(i,e<=r||r<=o.toExpNeg,e)),n};v.toSignificantDigits=v.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xe(e,1,ot),t===void 0?t=n.rounding:xe(t,0,8)),_(new n(r),e,t)};v.toString=v.valueOf=v.val=v.toJSON=v[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=G(e),r=e.constructor;return Ge(e,t<=r.toExpNeg||t>=r.toExpPos)};Ie=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%z|0,s=o/z|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,m;if(o!=s)m=o>s?1:-1;else for(a=m=0;a<o;a++)if(n[a]!=i[a]){m=n[a]>i[a]?1:-1;break}return m}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*z+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,m,f,T,A,C,S,N,R,I,ne,Q,F,oe,je,Rn,fe,gr,yr=n.constructor,Ll=n.s==i.s?1:-1,he=n.d,J=i.d;if(!n.s)return new yr(n);if(!i.s)throw Error(ce+"Division by zero");for(m=n.e-i.e,fe=J.length,je=he.length,S=new yr(Ll),N=S.d=[],f=0;J[f]==(he[f]||0);)++f;if(J[f]>(he[f]||0)&&--m,o==null?Q=o=yr.precision:s?Q=o+(G(n)-G(i))+1:Q=o,Q<0)return new yr(0);if(Q=Q/V+2|0,f=0,fe==1)for(T=0,J=J[0],Q++;(f<je||T)&&Q--;f++)F=T*z+(he[f]||0),N[f]=F/J|0,T=F%J|0;else{for(T=z/(J[0]+1)|0,T>1&&(J=e(J,T),he=e(he,T),fe=J.length,je=he.length),oe=fe,R=he.slice(0,fe),I=R.length;I<fe;)R[I++]=0;gr=J.slice(),gr.unshift(0),Rn=J[0],J[1]>=z/2&&++Rn;do T=0,a=t(J,R,fe,I),a<0?(ne=R[0],fe!=I&&(ne=ne*z+(R[1]||0)),T=ne/Rn|0,T>1?(T>=z&&(T=z-1),A=e(J,T),C=A.length,I=R.length,a=t(A,R,C,I),a==1&&(T--,r(A,fe<C?gr:J,C))):(T==0&&(a=T=1),A=J.slice()),C=A.length,C<I&&A.unshift(0),r(R,A,I),a==-1&&(I=R.length,a=t(J,R,fe,I),a<1&&(T++,r(R,fe<I?gr:J,I))),I=R.length):a===0&&(T++,R=[0]),N[f++]=T,a&&R[0]?R[I++]=he[oe]||0:(R=[he[oe]],I=1);while((oe++<je||R[0]!==void 0)&&Q--)}return N[0]||N.shift(),S.e=m,_(S,s?o+G(S)+1:o)}}();ao=so(zl);ue=new ao(1)});var d=we(()=>{"use strict";uo()});var $n={};it($n,{Hash:()=>_t,createHash:()=>Ro,default:()=>ut,randomFillSync:()=>Ar,randomUUID:()=>Tr,webcrypto:()=>Ft});function Tr(){return globalThis.crypto.randomUUID()}function Ar(e,t,r){return t!==void 0&&(r!==void 0?e=e.subarray(t,t+r):e=e.subarray(t)),globalThis.crypto.getRandomValues(e)}function Ro(e){return new _t(e)}var Ft,_t,ut,We=we(()=>{"use strict";u();l();c();p();d();Ft=globalThis.crypto;_t=class{#e=[];#t;constructor(t){this.#t=t}update(t){this.#e.push(t)}async digest(){let t=new Uint8Array(this.#e.reduce((i,o)=>i+o.length,0)),r=0;for(let i of this.#e)t.set(i,r),r+=i.length;let n=await globalThis.crypto.subtle.digest(this.#t,t);return new Uint8Array(n)}},ut={webcrypto:Ft,randomUUID:Tr,randomFillSync:Ar,createHash:Ro,Hash:_t}});var Io=ae(()=>{"use strict";u();l();c();p();d()});var ko=ae(($y,nc)=>{nc.exports={name:"@prisma/engines-version",version:"7.5.0-4.55ae170b1ced7fc6ed07a15f110549408c501bb3",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"55ae170b1ced7fc6ed07a15f110549408c501bb3"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var Oo=ae(Sr=>{"use strict";u();l();c();p();d();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.enginesVersion=void 0;Sr.enginesVersion=ko().prisma.enginesVersion});var Lo=ae((Zy,Mo)=>{"use strict";u();l();c();p();d();Mo.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Fo=ae((Rh,Cr)=>{"use strict";u();l();c();p();d();Cr.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};Cr.exports.default=Cr.exports});var Jn=ae((yb,Uo)=>{"use strict";u();l();c();p();d();Uo.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,m,f,T,A,C,S,N,R,I,ne,Q,F,oe=[];for(m=0;m<i;m++)oe.push(m+1),oe.push(t.charCodeAt(s+m));for(var je=oe.length-1;a<o-3;)for(I=r.charCodeAt(s+(f=a)),ne=r.charCodeAt(s+(T=a+1)),Q=r.charCodeAt(s+(A=a+2)),F=r.charCodeAt(s+(C=a+3)),S=a+=4,m=0;m<je;m+=2)N=oe[m],R=oe[m+1],f=e(N,f,T,I,R),T=e(f,T,A,ne,R),A=e(T,A,C,Q,R),S=e(A,C,S,F,R),oe[m]=S,C=A,A=T,T=f,f=N;for(;a<o;)for(I=r.charCodeAt(s+(f=a)),S=++a,m=0;m<je;m+=2)N=oe[m],oe[m]=S=e(N,f,S,I,oe[m+1]),f=N;return S}}()});var Jo=we(()=>{"use strict";u();l();c();p();d()});var Ho=we(()=>{"use strict";u();l();c();p();d()});var Jr,hs=we(()=>{"use strict";u();l();c();p();d();Jr=class{events={};on(t,r){return this.events[t]||(this.events[t]=[]),this.events[t].push(r),this}emit(t,...r){return this.events[t]?(this.events[t].forEach(n=>{n(...r)}),!0):!1}}});var pi=ae(Ye=>{"use strict";u();l();c();p();d();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.anumber=ci;Ye.abytes=la;Ye.ahash=Bp;Ye.aexists=jp;Ye.aoutput=Qp;function ci(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function qp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function la(e,...t){if(!qp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ci(e.outputLen),ci(e.blockLen)}function jp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qp(e,t){la(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var Oa=ae(O=>{"use strict";u();l();c();p();d();Object.defineProperty(O,"__esModule",{value:!0});O.add5L=O.add5H=O.add4H=O.add4L=O.add3H=O.add3L=O.rotlBL=O.rotlBH=O.rotlSL=O.rotlSH=O.rotr32L=O.rotr32H=O.rotrBL=O.rotrBH=O.rotrSL=O.rotrSH=O.shrSL=O.shrSH=O.toBig=void 0;O.fromBig=mi;O.split=ca;O.add=Aa;var en=BigInt(2**32-1),di=BigInt(32);function mi(e,t=!1){return t?{h:Number(e&en),l:Number(e>>di&en)}:{h:Number(e>>di&en)|0,l:Number(e&en)|0}}function ca(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=mi(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var pa=(e,t)=>BigInt(e>>>0)<<di|BigInt(t>>>0);O.toBig=pa;var da=(e,t,r)=>e>>>r;O.shrSH=da;var ma=(e,t,r)=>e<<32-r|t>>>r;O.shrSL=ma;var fa=(e,t,r)=>e>>>r|t<<32-r;O.rotrSH=fa;var ga=(e,t,r)=>e<<32-r|t>>>r;O.rotrSL=ga;var ya=(e,t,r)=>e<<64-r|t>>>r-32;O.rotrBH=ya;var ha=(e,t,r)=>e>>>r-32|t<<64-r;O.rotrBL=ha;var wa=(e,t)=>t;O.rotr32H=wa;var ba=(e,t)=>e;O.rotr32L=ba;var xa=(e,t,r)=>e<<r|t>>>32-r;O.rotlSH=xa;var Ea=(e,t,r)=>t<<r|e>>>32-r;O.rotlSL=Ea;var Pa=(e,t,r)=>t<<r-32|e>>>64-r;O.rotlBH=Pa;var Ta=(e,t,r)=>e<<r-32|t>>>64-r;O.rotlBL=Ta;function Aa(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Sa=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);O.add3L=Sa;var va=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;O.add3H=va;var Ca=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);O.add4L=Ca;var Ra=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;O.add4H=Ra;var Ia=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);O.add5L=Ia;var ka=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;O.add5H=ka;var Jp={fromBig:mi,split:ca,toBig:pa,shrSH:da,shrSL:ma,rotrSH:fa,rotrSL:ga,rotrBH:ya,rotrBL:ha,rotr32H:wa,rotr32L:ba,rotlSH:xa,rotlSL:Ea,rotlBH:Pa,rotlBL:Ta,add:Aa,add3L:Sa,add3H:va,add4L:Ca,add4H:Ra,add5H:ka,add5L:Ia};O.default=Jp});var Na=ae(tn=>{"use strict";u();l();c();p();d();Object.defineProperty(tn,"__esModule",{value:!0});tn.crypto=void 0;var Ve=(We(),Zi($n));tn.crypto=Ve&&typeof Ve=="object"&&"webcrypto"in Ve?Ve.webcrypto:Ve&&typeof Ve=="object"&&"randomBytes"in Ve?Ve:void 0});var La=ae(M=>{"use strict";u();l();c();p();d();Object.defineProperty(M,"__esModule",{value:!0});M.Hash=M.nextTick=M.byteSwapIfBE=M.isLE=void 0;M.isBytes=Hp;M.u8=Gp;M.u32=Wp;M.createView=zp;M.rotr=Kp;M.rotl=Zp;M.byteSwap=yi;M.byteSwap32=Yp;M.bytesToHex=ed;M.hexToBytes=td;M.asyncLoop=nd;M.utf8ToBytes=Ma;M.toBytes=rn;M.concatBytes=id;M.checkOpts=od;M.wrapConstructor=sd;M.wrapConstructorWithOpts=ad;M.wrapXOFConstructorWithOpts=ud;M.randomBytes=ld;var At=Na(),gi=pi();function Hp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gp(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Wp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function zp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Kp(e,t){return e<<32-t|e>>>t}function Zp(e,t){return e<<t|e>>>32-t>>>0}M.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yi(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}M.byteSwapIfBE=M.isLE?e=>e:e=>yi(e);function Yp(e){for(let t=0;t<e.length;t++)e[t]=yi(e[t])}var Xp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ed(e){(0,gi.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=Xp[e[r]];return t}var Oe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Da(e){if(e>=Oe._0&&e<=Oe._9)return e-Oe._0;if(e>=Oe.A&&e<=Oe.F)return e-(Oe.A-10);if(e>=Oe.a&&e<=Oe.f)return e-(Oe.a-10)}function td(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Da(e.charCodeAt(o)),a=Da(e.charCodeAt(o+1));if(s===void 0||a===void 0){let m=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+o)}n[i]=s*16+a}return n}var rd=async()=>{};M.nextTick=rd;async function nd(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,M.nextTick)(),n+=o)}}function Ma(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function rn(e){return typeof e=="string"&&(e=Ma(e)),(0,gi.abytes)(e),e}function id(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,gi.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var fi=class{clone(){return this._cloneInto()}};M.Hash=fi;function od(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function sd(e){let t=n=>e().update(rn(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ad(e){let t=(n,i)=>e(i).update(rn(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function ud(e){let t=(n,i)=>e(i).update(rn(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function ld(e=32){if(At.crypto&&typeof At.crypto.getRandomValues=="function")return At.crypto.getRandomValues(new Uint8Array(e));if(At.crypto&&typeof At.crypto.randomBytes=="function")return At.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var ja=ae(q=>{"use strict";u();l();c();p();d();Object.defineProperty(q,"__esModule",{value:!0});q.shake256=q.shake128=q.keccak_512=q.keccak_384=q.keccak_256=q.keccak_224=q.sha3_512=q.sha3_384=q.sha3_256=q.sha3_224=q.Keccak=void 0;q.keccakP=qa;var St=pi(),rr=Oa(),Ne=La(),$a=[],Va=[],Ua=[],cd=BigInt(0),tr=BigInt(1),pd=BigInt(2),dd=BigInt(7),md=BigInt(256),fd=BigInt(113);for(let e=0,t=tr,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],$a.push(2*(5*n+r)),Va.push((e+1)*(e+2)/2%64);let i=cd;for(let o=0;o<7;o++)t=(t<<tr^(t>>dd)*fd)%md,t&pd&&(i^=tr<<(tr<<BigInt(o))-tr);Ua.push(i)}var[gd,yd]=(0,rr.split)(Ua,!0),_a=(e,t,r)=>r>32?(0,rr.rotlBH)(e,t,r):(0,rr.rotlSH)(e,t,r),Fa=(e,t,r)=>r>32?(0,rr.rotlBL)(e,t,r):(0,rr.rotlSL)(e,t,r);function qa(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,m=(s+2)%10,f=r[m],T=r[m+1],A=_a(f,T,1)^r[a],C=Fa(f,T,1)^r[a+1];for(let S=0;S<50;S+=10)e[s+S]^=A,e[s+S+1]^=C}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=Va[s],m=_a(i,o,a),f=Fa(i,o,a),T=$a[s];i=e[T],o=e[T+1],e[T]=m,e[T+1]=f}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=gd[n],e[1]^=yd[n]}r.fill(0)}var nr=class e extends Ne.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,St.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ne.u32)(this.state)}keccak(){Ne.isLE||(0,Ne.byteSwap32)(this.state32),qa(this.state32,this.rounds),Ne.isLE||(0,Ne.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,St.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Ne.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,St.aexists)(this,!1),(0,St.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,St.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,St.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};q.Keccak=nr;var Ue=(e,t,r)=>(0,Ne.wrapConstructor)(()=>new nr(t,e,r));q.sha3_224=Ue(6,144,224/8);q.sha3_256=Ue(6,136,256/8);q.sha3_384=Ue(6,104,384/8);q.sha3_512=Ue(6,72,512/8);q.keccak_224=Ue(1,144,224/8);q.keccak_256=Ue(1,136,256/8);q.keccak_384=Ue(1,104,384/8);q.keccak_512=Ue(1,72,512/8);var Ba=(e,t,r)=>(0,Ne.wrapXOFConstructorWithOpts)((n={})=>new nr(t,e,n.dkLen===void 0?r:n.dkLen,!0));q.shake128=Ba(31,168,128/8);q.shake256=Ba(31,136,256/8)});var Za=ae((Jk,qe)=>{"use strict";u();l();c();p();d();var{sha3_512:hd}=ja(),Ja=24,ir=32,hi=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function Ha(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Ga=(e="")=>Ha(hd(e)).toString(36).slice(1),Qa=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),wd=e=>Qa[Math.floor(e()*Qa.length)],Wa=({globalObj:e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+hi(ir,t):hi(ir,t);return Ga(n).substring(0,ir)},za=e=>()=>e++,bd=476782367,Ka=({random:e=Math.random,counter:t=za(Math.floor(e()*bd)),length:r=Ja,fingerprint:n=Wa({random:e})}={})=>function(){let o=wd(e),s=Date.now().toString(36),a=t().toString(36),m=hi(r,e),f=`${s+m+a+n}`;return`${o+Ga(f).substring(1,r)}`},xd=Ka(),Ed=(e,{minLength:t=2,maxLength:r=ir}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};qe.exports.getConstants=()=>({defaultLength:Ja,bigLength:ir});qe.exports.init=Ka;qe.exports.createId=xd;qe.exports.bufToBigInt=Ha;qe.exports.createCounter=za;qe.exports.createFingerprint=Wa;qe.exports.isCuid=Ed});var Ya=ae((Zk,or)=>{"use strict";u();l();c();p();d();var{createId:Pd,init:Td,getConstants:Ad,isCuid:Sd}=Za();or.exports.createId=Pd;or.exports.init=Td;or.exports.getConstants=Ad;or.exports.isCuid=Sd});var Xm={};it(Xm,{AnyNull:()=>re.AnyNull,DMMF:()=>Bt,DbNull:()=>re.DbNull,Debug:()=>te,Decimal:()=>Ml.Decimal,Extensions:()=>Dn,JsonNull:()=>re.JsonNull,NullTypes:()=>re.NullTypes,ObjectEnumValue:()=>re.ObjectEnumValue,PrismaClientInitializationError:()=>D.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>D.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>D.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>D.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>D.PrismaClientValidationError,Public:()=>Mn,Sql:()=>Re.Sql,createParam:()=>cs,defineDmmfProperty:()=>gs,deserializeJsonObject:()=>ye,deserializeRawResult:()=>vn,dmmfToRuntimeDataModel:()=>fo,empty:()=>Re.empty,getPrismaClient:()=>Ol,getRuntime:()=>Dl,isAnyNull:()=>re.isAnyNull,isDbNull:()=>re.isDbNull,isJsonNull:()=>re.isJsonNull,join:()=>Re.join,makeStrictEnum:()=>Nl,makeTypedQueryFactory:()=>ys,raw:()=>Re.raw,serializeJsonQuery:()=>Br,skip:()=>qr,sqltag:()=>Re.sql,warnOnce:()=>Qn});module.exports=Zi(Xm);u();l();c();p();d();var Dn={};it(Dn,{defineExtension:()=>lo,getExtensionContext:()=>co});u();l();c();p();d();u();l();c();p();d();function lo(e){return typeof e=="function"?e:t=>t.$extends(e)}u();l();c();p();d();function co(e){return e}var Mn={};it(Mn,{validator:()=>po});u();l();c();p();d();u();l();c();p();d();function po(...e){return t=>t}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var Ee=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};u();l();c();p();d();function Le(e){return e.substring(0,1).toLowerCase()+e.substring(1)}u();l();c();p();d();function mo(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}u();l();c();p();d();function Dt(e){let t;return{get(){return t||(t={value:e()}),t.value}}}u();l();c();p();d();function fo(e){return{models:Ln(e.models),enums:Ln(e.enums),types:Ln(e.types)}}function Ln(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}var Fe=require("@prisma/client-runtime-utils");u();l();c();p();d();u();l();c();p();d();var _n,go,yo,ho,wo=!0;typeof y<"u"&&({FORCE_COLOR:_n,NODE_DISABLE_COLORS:go,NO_COLOR:yo,TERM:ho}=y.env||{},wo=y.stdout&&y.stdout.isTTY);var Yl={enabled:!go&&yo==null&&ho!=="dumb"&&(_n!=null&&_n!=="0"||wo)};function $(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!Yl.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var qg=$(0,0),xr=$(1,22),Er=$(2,22),Bg=$(3,23),Pr=$(4,24),jg=$(7,27),Qg=$(8,28),Jg=$(9,29),Hg=$(30,39),at=$(31,39),bo=$(32,39),xo=$(33,39),Eo=$(34,39),Gg=$(35,39),Po=$(36,39),Wg=$(37,39),To=$(90,39),zg=$(90,39),Kg=$(40,49),Zg=$(41,49),Yg=$(42,49),Xg=$(43,49),ey=$(44,49),ty=$(45,49),ry=$(46,49),ny=$(47,49);u();l();c();p();d();var Xl=100,Ao=["green","yellow","blue","magenta","cyan","red"],Mt=[],So=Date.now(),ec=0,Fn=typeof y<"u"?y.env:{};globalThis.DEBUG??=Fn.DEBUG??"";globalThis.DEBUG_COLORS??=Fn.DEBUG_COLORS?Fn.DEBUG_COLORS==="true":!0;var Lt={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function tc(e){let t={color:Ao[ec++%Ao.length],enabled:Lt.enabled(e),namespace:e,log:Lt.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&Mt.push([o,...n]),Mt.length>Xl&&Mt.shift(),Lt.enabled(o)||i){let m=n.map(T=>typeof T=="string"?T:rc(T)),f=`+${Date.now()-So}ms`;So=Date.now(),a(o,...m,f)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var te=new Proxy(tc,{get:(e,t)=>Lt[t],set:(e,t,r)=>Lt[t]=r});function rc(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function vo(e=7500){let t=Mt.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function Co(){Mt.length=0}u();l();c();p();d();u();l();c();p();d();var No="prisma+postgres",vr=`${No}:`;function Do(e){return e?.toString().startsWith(`${vr}//`)??!1}function Vn(e){if(!Do(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Vt={};it(Vt,{error:()=>sc,info:()=>oc,log:()=>ic,query:()=>ac,should:()=>_o,tags:()=>$t,warn:()=>Un});u();l();c();p();d();var $t={error:at("prisma:error"),warn:xo("prisma:warn"),info:Po("prisma:info"),query:Eo("prisma:query")},_o={warn:()=>!y.env.PRISMA_DISABLE_WARNINGS};function ic(...e){console.log(...e)}function Un(e,...t){_o.warn()&&console.warn(`${$t.warn} ${e}`,...t)}function oc(e,...t){console.info(`${$t.info} ${e}`,...t)}function sc(e,...t){console.error(`${$t.error} ${e}`,...t)}function ac(e,...t){console.log(`${$t.query} ${e}`,...t)}u();l();c();p();d();function ke(e,t){throw new Error(t)}u();l();c();p();d();u();l();c();p();d();function qn({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var uc=qn();function lt(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(uc,"")}u();l();c();p();d();function Bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}u();l();c();p();d();function Rr(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}u();l();c();p();d();function jn(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}u();l();c();p();d();function Ut(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}u();l();c();p();d();var $o=new Set,Qn=(e,t,...r)=>{$o.has(e)||($o.add(e),Un(t,...r))};u();l();c();p();d();function ct(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Ir(e){return e.toString()!=="Invalid Date"}u();l();c();p();d();var Vo=require("@prisma/client-runtime-utils");function pt(e){return Vo.Decimal.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}u();l();c();p();d();var is=require("@prisma/client-runtime-utils");u();l();c();p();d();var Bt={};it(Bt,{ModelAction:()=>qt,datamodelEnumToSchemaEnum:()=>lc});u();l();c();p();d();u();l();c();p();d();function lc(e){return{name:e.name,values:e.values.map(t=>t.name)}}u();l();c();p();d();var qt=(F=>(F.findUnique="findUnique",F.findUniqueOrThrow="findUniqueOrThrow",F.findFirst="findFirst",F.findFirstOrThrow="findFirstOrThrow",F.findMany="findMany",F.create="create",F.createMany="createMany",F.createManyAndReturn="createManyAndReturn",F.update="update",F.updateMany="updateMany",F.updateManyAndReturn="updateManyAndReturn",F.upsert="upsert",F.delete="delete",F.deleteMany="deleteMany",F.groupBy="groupBy",F.count="count",F.aggregate="aggregate",F.findRaw="findRaw",F.aggregateRaw="aggregateRaw",F))(qt||{});var cc=Qe(Lo());var pc={red:at,gray:To,dim:Er,bold:xr,underline:Pr,highlightSource:e=>e.highlight()},dc={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function mc({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function fc({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],m=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${m}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${m}`)),t&&a.push(s.underline(gc(t))),i){a.push("");let f=[i.toString()];o&&(f.push(o),f.push(s.dim(")"))),a.push(f.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function gc(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function kr(e){let t=e.showColors?pc:dc,r;return typeof $getTemplateParameters<"u"?r=$getTemplateParameters(e,t):r=mc(e),fc(r,t)}u();l();c();p();d();var Wo=Qe(Jn());u();l();c();p();d();function jo(e,t,r){let n=Qo(e),i=yc(n),o=wc(i);o?Or(o,t,r):t.addErrorMessage(()=>"Unknown error")}function Qo(e){return e.errors.flatMap(t=>t.kind==="Union"?Qo(t):[t])}function yc(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:hc(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function hc(e,t){return[...new Set(e.concat(t))]}function wc(e){return jn(e,(t,r)=>{let n=qo(t),i=qo(r);return n!==i?n-i:Bo(t)-Bo(r)})}function qo(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Bo(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}u();l();c();p();d();var le=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};u();l();c();p();d();u();l();c();p();d();Ho();u();l();c();p();d();var dt=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Jo();u();l();c();p();d();u();l();c();p();d();var Nr=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};u();l();c();p();d();var Dr=e=>e,Mr={bold:Dr,red:Dr,green:Dr,dim:Dr,enabled:!1},Go={bold:xr,red:at,green:bo,dim:Er,enabled:!0},mt={write(e){e.writeLine(",")}};u();l();c();p();d();var Pe=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};u();l();c();p();d();var _e=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var ft=class extends _e{items=[];addItem(t){return this.items.push(new Nr(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new Pe("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(mt,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var gt=class e extends _e{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof ft&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new Pe("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(mt,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};u();l();c();p();d();var K=class extends _e{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new Pe(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};u();l();c();p();d();var jt=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(mt,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function Or(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":bc(e,t);break;case"IncludeOnScalar":xc(e,t);break;case"EmptySelection":Ec(e,t,r);break;case"UnknownSelectionField":Sc(e,t);break;case"InvalidSelectionValue":vc(e,t);break;case"UnknownArgument":Cc(e,t);break;case"UnknownInputField":Rc(e,t);break;case"RequiredArgumentMissing":Ic(e,t);break;case"InvalidArgumentType":kc(e,t);break;case"InvalidArgumentValue":Oc(e,t);break;case"ValueTooLarge":Nc(e,t);break;case"SomeFieldsMissing":Dc(e,t);break;case"TooManyFieldsGiven":Mc(e,t);break;case"Union":jo(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function bc(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function xc(e,t){let[r,n]=yt(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new le(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${Qt(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function Ec(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){Pc(e,t,i);return}if(n.hasField("select")){Tc(e,t);return}}if(r?.[Le(e.outputType.name)]){Ac(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Pc(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new le(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Tc(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Zo(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${Qt(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function Ac(e,t){let r=new jt;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new le("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=yt(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let m=a?.value.asObject()??new gt;m.addSuggestion(n),a.value=m}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Sc(e,t){let r=Yo(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":Zo(n,e.outputType);break;case"include":Lc(n,e.outputType);break;case"omit":_c(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(Qt(n)),i.join(" ")})}function vc(e,t){let r=Yo(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function Cc(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Fc(n,e.arguments)),t.addErrorMessage(i=>zo(i,r,e.arguments.map(o=>o.name)))}function Rc(e,t){let[r,n]=yt(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Xo(o,e.inputType)}t.addErrorMessage(o=>zo(o,n,e.inputType.fields.map(s=>s.name)))}function zo(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Vc(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(Qt(e)),n.join(" ")}function Ic(e,t){let r;t.addErrorMessage(m=>r?.value instanceof K&&r.value.text==="null"?`Argument \`${m.green(o)}\` must not be ${m.red("null")}.`:`Argument \`${m.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=yt(e.argumentPath),s=new jt,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let m of e.inputTypes[0].fields)s.addField(m.name,m.typeNames.join(" | "));a.addSuggestion(new le(o,s).makeRequired())}else{let m=e.inputTypes.map(Ko).join(" | ");a.addSuggestion(new le(o,m).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,m]=yt(e.dependentArgumentPath);t.addErrorMessage(f=>`Argument \`${f.green(o)}\` is required because argument \`${f.green(m)}\` was provided.`)}}}function Ko(e){return e.kind==="list"?`${Ko(e.elementType)}[]`:e.name}function kc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Lr("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function Oc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Lr("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function Nc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof K&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function Dc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Xo(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Lr("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(Qt(i)),o.join(" ")})}function Mc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Lr("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function Zo(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new le(r.name,"true"))}function Lc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new le(r.name,"true"))}function _c(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new le(r.name,"true"))}function Fc(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new le(r.name,r.typeNames.join(" | ")))}function Yo(e,t){let[r,n]=yt(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),m=o?.getField(n);return o&&m?{parentKind:"select",parent:o,field:m,fieldName:n}:(m=s?.getField(n),s&&m?{parentKind:"include",field:m,parent:s,fieldName:n}:(m=a?.getField(n),a&&m?{parentKind:"omit",field:m,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Xo(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new le(r.name,r.typeNames.join(" | ")))}function yt(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function Qt({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Lr(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var $c=3;function Vc(e,t){let r=1/0,n;for(let i of t){let o=(0,Wo.default)(e,i);o>$c||o<r&&(r=o,n=i)}return n}u();l();c();p();d();var ts=require("@prisma/client-runtime-utils");u();l();c();p();d();var Jt=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function ht(e){return e instanceof Jt}u();l();c();p();d();var es=": ",_r=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+es.length}write(t){let r=new Pe(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(es).write(this.value)}};var Gn=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function wt(e){return new Gn(rs(e))}function rs(e){let t=new gt;for(let[r,n]of Object.entries(e)){let i=new _r(r,ns(n));t.addField(i)}return t}function ns(e){if(typeof e=="string")return new K(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new K(String(e));if(typeof e=="bigint")return new K(`${e}n`);if(e===null)return new K("null");if(e===void 0)return new K("undefined");if(pt(e))return new K(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return g.isBuffer(e)?new K(`Buffer.alloc(${e.byteLength})`):new K(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Ir(e)?e.toISOString():"Invalid Date";return new K(`new Date("${t}")`)}return e instanceof ts.ObjectEnumValue?new K(`Prisma.${e._getName()}`):ht(e)?new K(`prisma.${Le(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?Uc(e):typeof e=="object"?rs(e):new K(Object.prototype.toString.call(e))}function Uc(e){let t=new ft;for(let r of e)t.addItem(ns(r));return t}function Fr(e,t){let r=t==="pretty"?Go:Mr,n=e.renderAllMessages(r),i=new dt(0,{colors:r}).write(e).toString();return{message:n,args:i}}function $r({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=wt(e);for(let A of t)Or(A,a,s);let{message:m,args:f}=Fr(a,r),T=kr({message:m,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:f});throw new is.PrismaClientValidationError(T,{clientVersion:o})}u();l();c();p();d();u();l();c();p();d();function Te(e){return e.replace(/^./,t=>t.toLowerCase())}u();l();c();p();d();function ss(e,t,r){let n=Te(r);return!t.result||!(t.result.$allModels||t.result[n])?e:qc({...e,...os(t.name,e,t.result.$allModels),...os(t.name,e,t.result[n])})}function qc(e){let t=new Ee,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Rr(e,n=>({...n,needs:r(n.name,new Set)}))}function os(e,t,r){return r?Rr(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:Bc(t,o,i)})):{}}function Bc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function as(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function us(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var Vr=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new Ee;modelExtensionsCache=new Ee;queryCallbacksCache=new Ee;clientExtensions=Dt(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=Dt(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>ss(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=Te(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},bt=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new Vr(t))}isEmpty(){return this.head===void 0}append(t){return new e(new Vr(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};u();l();c();p();d();var Ur=class{constructor(t){this.name=t}};function ls(e){return e instanceof Ur}function cs(e){return new Ur(e)}u();l();c();p();d();u();l();c();p();d();var ps=Symbol(),Ht=class{constructor(t){if(t!==ps)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?qr:t}},qr=new Ht(ps);function pe(e){return e instanceof Ht}var jc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},ds="explicitly `undefined` values are not allowed";function Br({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=bt.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:m,previewFeatures:f,globalOmit:T,wrapRawValues:A}){let C=new Wn({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:m,previewFeatures:f,globalOmit:T,wrapRawValues:A});return{modelName:e,action:jc[t],query:Gt(r,C)}}function Gt({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:fs(r,n),selection:Qc(e,t,i,n)}}function Qc(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Wc(e,n)):Jc(n,t,r)}function Jc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Hc(n,t,e),Gc(n,r,e),n}function Hc(e,t,r){for(let[n,i]of Object.entries(t)){if(pe(i))continue;let o=r.nestSelection(n);if(zn(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=Gt(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=Gt(i,o)}}function Gc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=us(i,n);for(let[s,a]of Object.entries(o)){if(pe(a))continue;zn(a,r.nestSelection(s));let m=r.findField(s);n?.[s]&&!m||(e[s]=!a)}}function Wc(e,t){let r={},n=t.getComputedFields(),i=as(e,n);for(let[o,s]of Object.entries(i)){if(pe(s))continue;let a=t.nestSelection(o);zn(s,a);let m=t.findField(o);if(!(n?.[o]&&!m)){if(s===!1||s===void 0||pe(s)){r[o]=!1;continue}if(s===!0){m?.kind==="object"?r[o]=Gt({},a):r[o]=!0;continue}r[o]=Gt(s,a)}}return r}function ms(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(ct(e)){if(Ir(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(ls(e))return{$type:"Param",value:e.name};if(ht(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return zc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:g.from(r,n,i).toString("base64")}}if(Kc(e))return e.values;if(pt(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof Fe.ObjectEnumValue){if(!(0,Fe.isDbNull)(e)&&!(0,Fe.isJsonNull)(e)&&!(0,Fe.isAnyNull)(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(Zc(e))return e.toJSON();if(typeof e=="object")return fs(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function fs(e,t){if(t.shouldWrapRawValues()&&e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);pe(i)||(i!==void 0?r[n]=ms(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:ds}))}return r}function zc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||pe(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(ms(o,i))}return r}function Kc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function Zc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function zn(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:ds})}var Wn=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){$r({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}shouldWrapRawValues(){return this.params.wrapRawValues??!0}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Le(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:ke(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};u();l();c();p();d();function gs(e,t){let r=Dt(()=>Yc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Yc(e){throw new Error("Prisma.dmmf is not available when running in edge runtimes.")}function Kn(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}u();l();c();p();d();var Zn=new WeakMap,jr="$$PrismaTypedSql",Wt=class{constructor(t,r){Zn.set(this,{sql:t,values:r}),Object.defineProperty(this,jr,{value:jr})}get sql(){return Zn.get(this).sql}get values(){return Zn.get(this).values}};function ys(e){return(...t)=>new Wt(e,t)}function Qr(e){return e!=null&&e[jr]===jr}u();l();c();p();d();var kl=require("@prisma/client-runtime-utils");u();l();c();p();d();hs();u();l();c();p();d();u();l();c();p();d();function zt(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}u();l();c();p();d();function ie(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}u();l();c();p();d();function ze(e){let t=new Ee;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}u();l();c();p();d();u();l();c();p();d();var Hr={enumerable:!0,configurable:!0,writable:!0};function Gr(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>Hr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var ws=Symbol.for("nodejs.util.inspect.custom");function ge(e,t){let r=Xc(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=bs(Reflect.ownKeys(o),r),a=bs(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let m=r.get(s);return m?m.getPropertyDescriptor?{...Hr,...m?.getPropertyDescriptor(s)}:Hr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[ws]=function(){let o={...this};return delete o[ws],o},i}function Xc(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function bs(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}u();l();c();p();d();function xt(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}u();l();c();p();d();function xs(e){if(e===void 0)return"";let t=wt(e);return new dt(0,{colors:Mr}).write(t).toString()}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var Yn=class{getLocation(){return null}};function $e(e){return typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Yn}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var Es={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Et(e={}){let t=tp(e);return Object.entries(t).reduce((n,[i,o])=>(Es[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function tp(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function Wr(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function Ps(e,t){let r=Wr(e);return t({action:"aggregate",unpacker:r,argsMapper:Et})(e)}u();l();c();p();d();function rp(e={}){let{select:t,...r}=e;return typeof t=="object"?Et({...r,_count:t}):Et({...r,_count:{_all:!0}})}function np(e={}){return typeof e.select=="object"?t=>Wr(e)(t)._count:t=>Wr(e)(t)._count._all}function Ts(e,t){return t({action:"count",unpacker:np(e),argsMapper:rp})(e)}u();l();c();p();d();function ip(e={}){let t=Et(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function op(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function As(e,t){return t({action:"groupBy",unpacker:op(e),argsMapper:ip})(e)}function Ss(e,t,r){if(t==="aggregate")return n=>Ps(n,r);if(t==="count")return n=>Ts(n,r);if(t==="groupBy")return n=>As(n,r)}u();l();c();p();d();function vs(e,t){let r=t.fields.filter(i=>!i.relationName),n=mo(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new Jt(e,o,s.type,s.isList,s.kind==="enum")},...Gr(Object.keys(n))})}u();l();c();p();d();u();l();c();p();d();var Cs=e=>Array.isArray(e)?e:e.split("."),Xn=(e,t)=>Cs(t).reduce((r,n)=>r&&r[n],e),Rs=(e,t,r)=>Cs(t).reduceRight((n,i,o,s)=>Object.assign({},Xn(e,s.slice(0,o)),{[i]:n}),r);function sp(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function ap(e,t,r){return t===void 0?e??{}:Rs(t,r,e||!0)}function ei(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((m,f)=>({...m,[f.name]:f}),{});return m=>{let f=$e(e._errorFormat),T=sp(n,i),A=ap(m,o,T),C=r({dataPath:T,callsite:f})(A),S=up(e,t);return new Proxy(C,{get(N,R){if(!S.includes(R))return N[R];let ne=[a[R].type,r,R],Q=[T,A];return ei(e,...ne,...Q)},...Gr([...S,...Object.getOwnPropertyNames(C)])})}}function up(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var lp=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],cp=["aggregate","count","groupBy"];function ti(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[pp(e,t),mp(e,t),zt(r),ie("name",()=>t),ie("$name",()=>t),ie("$parent",()=>e._appliedParent)];return ge({},n)}function pp(e,t){let r=Te(t),n=Object.keys(qt).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>m=>{let f=$e(e._errorFormat);return e._createPrismaPromise(T=>{let A={args:m,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:T,callsite:f};return e._request({...A,...a})},{action:o,args:m,model:t})};return lp.includes(o)?ei(e,t,s):dp(i)?Ss(e,i,s):s({})}}}function dp(e){return cp.includes(e)}function mp(e,t){return ze(ie("fields",()=>{let r=e._runtimeDataModel.models[t];return vs(t,r)}))}u();l();c();p();d();function Is(e){return e.replace(/^./,t=>t.toUpperCase())}var ri=Symbol();function Kt(e){let t=[fp(e),gp(e),ie(ri,()=>e),ie("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(zt(r)),ge(e,t)}function fp(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function gp(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Te),n=[...new Set(t.concat(r))];return ze({getKeys(){return n},getPropertyValue(i){let o=Is(i);if(e._runtimeDataModel.models[o]!==void 0)return ti(e,o);if(e._runtimeDataModel.models[i]!==void 0)return ti(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function ks(e){return e[ri]?e[ri]:e}function Os(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return Kt(t)}u();l();c();p();d();u();l();c();p();d();function Ns({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let m of Object.values(o)){if(n){if(n[m.name])continue;let f=m.needs.filter(T=>n[T]);f.length>0&&a.push(xt(f))}else if(r){if(!r[m.name])continue;let f=m.needs.filter(T=>!r[T]);f.length>0&&a.push(xt(f))}yp(e,m.needs)&&s.push(hp(m,ge(e,s)))}return s.length>0||a.length>0?ge(e,[...s,...a]):e}function yp(e,t){return t.every(r=>Bn(e,r))}function hp(e,t){return ze(ie(e.name,()=>e.compute(t)))}u();l();c();p();d();function zr({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=zr({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&Ds({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Ds({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function Ds({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||pe(s))continue;let m=n.models[r].fields.find(T=>T.name===o);if(!m||m.kind!=="object"||!m.relationName)continue;let f=typeof s=="object"?s:{};t[o]=zr({visitor:i,result:t[o],args:f,modelName:m.type,runtimeDataModel:n})}}function Ms({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:zr({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,m,f)=>{let T=Te(m);return Ns({result:a,modelName:T,select:f.select,omit:f.select?void 0:{...o?.[T],...f.omit},extensions:n})}})}u();l();c();p();d();u();l();c();p();d();var Ke=require("@prisma/client-runtime-utils");u();l();c();p();d();var wp=["$connect","$disconnect","$on","$transaction","$extends"],Ls=wp;function _s(e){if(e instanceof Ke.Sql)return bp(e);if(Qr(e))return xp(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=Zt(e[n]);return r}let t={};for(let r in e)t[r]=Zt(e[r]);return t}function bp(e){return new Ke.Sql(e.strings,e.values)}function xp(e){return new Wt(e.sql,e.values)}function Zt(e){if(typeof e!="object"||e==null||e instanceof Ke.ObjectEnumValue||ht(e)||pe(e))return e;if(pt(e))return new Ke.Decimal(e.toFixed());if(ct(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Zt(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:Zt(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Zt(e[r]);return t}ke(e,"Unknown value")}function $s(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:_s(t.args??{}),__internalParams:t,query:(s,a=t)=>{let m=a.customDataProxyFetch;return a.customDataProxyFetch=Bs(o,m),a.args=s,$s(e,a,r,n+1)}})})}function Vs(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return $s(e,t,s)}function Us(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?qs(r,n,0,e):e(r)}}function qs(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let m=a.customDataProxyFetch;return a.customDataProxyFetch=Bs(i,m),qs(a,t,r+1,n)}})}var Fs=e=>e;function Bs(e=Fs,t=Fs){return r=>e(t(r))}u();l();c();p();d();function Qs({dataPath:e,modelName:t,args:r,runtimeDataModel:n}){let i={modelName:t,args:r??{}},o=Ep(e);if(!o||o.length===0)return i;let s=t,a=r??{};for(let m of o){let f=n.models[s];if(!f)return i;let T=f.fields.find(A=>A.name===m);if(!T)throw new Error(`Could not resolve relation field "${m}" on model "${s}" from dataPath "${e.join(".")}"`);if(T.kind!=="object"||!T.relationName)return i;s=T.type,a=Pp(a,m)}return{modelName:s,args:a}}function Ep(e){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1];if(n!=="select"&&n!=="include"||i===void 0)return;t.push(i)}return t}function Pp(e,t){let r=e.select?.[t];if(js(r))return r;let n=e.include?.[t];return js(n)?n:{}}function js(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var Ks=require("@prisma/client-runtime-utils");u();l();c();p();d();var Yt=require("@prisma/client-runtime-utils");function L(e,t){throw new Error(t)}function ni(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>ni(e[r],t[r]))}function Pt(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if(Yt.Decimal.isDecimal(e[o])||Yt.Decimal.isDecimal(t[o])){let s=Js(e[o]),a=Js(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=Hs(e[o]),a=Hs(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Gs(e[o])?.getTime()===Gs(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return Ws(e[o])===Ws(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return zs(e[o])===zs(t[o])}return ni(e[o],t[o])})}function Js(e){return Yt.Decimal.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new Yt.Decimal(e):void 0}function Hs(e){return g.isBuffer(e)?e:e instanceof Uint8Array?g.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?g.from(e,"base64"):void 0}function Gs(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function Ws(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function zs(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function Xt(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?g.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function Tp(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Ap(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function ye(e){return e===null?e:Array.isArray(e)?e.map(ye):typeof e=="object"?Tp(e)?Sp(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Ap(e,ye):e}function Sp({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=g.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new Ks.Decimal(t);case"Json":return JSON.parse(t);case"Raw":return t;case"FieldRef":throw new Error("FieldRef tagged values cannot be deserialized to JavaScript values");case"Enum":return t;default:L(t,"Unknown tagged value")}}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function Kr(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}u();l();c();p();d();var k={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var Z=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function Tt(e){if(!Kr(e))throw e;let t=vp(e),r=Zs(e);throw!t||!r?e:new Z(r,t,{driverAdapterError:e})}function oi(e){throw Kr(e)?new Z(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??Zs(e)}\``,"P2010",{driverAdapterError:e}):e}function vp(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"InvalidInputValue":return"P2007";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:L(e.cause,`Unknown error: ${e.cause}`)}}function Zs(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${ii(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${ii(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${ii(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"InvalidInputValue":return`Invalid input value: ${e.cause.message}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:L(e.cause,`Unknown error: ${e.cause}`)}}function ii(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function Cp(e){if(typeof e!="object"||e===null)return!1;let t=e;return"$type"in t&&t.$type==="Param"||"prisma__type"in t&&t.prisma__type==="param"}function Rp(e){return"prisma__type"in e?e.prisma__value?.name:e.value.name}function Ip(e,t){let r={};for(let[n,i]of Object.entries(e))if(r[n]=i,Cp(i)){let o=Rp(i);o&&o in t&&(r[n]=t[o])}return r}function Ys(e,t,r={}){let n=e.map(o=>t.keys.reduce((s,a)=>(s[a]=ye(o[a]),s),{})),i=new Set(t.nestedSelection);return t.arguments.map(o=>{let s=Ip(o,r),a=n.findIndex(m=>Pt(m,s));if(a===-1)return t.expectNonEmpty?new Z("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let m=Object.entries(e[a]).filter(([f])=>i.has(f));return Object.fromEntries(m)}})}u();l();c();p();d();var ta=require("@prisma/client-runtime-utils");var U=class extends Z{name="DataMapperError";constructor(t,r){super(t,"P2023",r)}},Xs=new WeakMap;function kp(e){let t=Xs.get(e);return t||(t=Object.entries(e),Xs.set(e,t)),t}function ra(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new U(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return ai(e,t.fields,r,t.skipNulls);case"field":return si(e,"<result>",t.fieldType,r);default:L(t,`Invalid data mapping type: '${t.type}'`)}}function ai(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>ea(o,t,r))}if(typeof e=="object")return ea(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new U("Expected an array or object, got a string that is not valid JSON",{cause:o})}return ai(i,t,r,n)}throw new U(`Expected an array or an object, got: ${typeof e}`)}function ea(e,t,r){if(typeof e!="object")throw new U(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of kp(t))switch(o.type){case"affectedRows":throw new U(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{let{serializedName:s,fields:a,skipNulls:m}=o;if(s!==null&&!Object.hasOwn(e,s))throw new U(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let f=s!==null?e[s]:e;n[i]=ai(f,a,r,m);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=Op(e[s],s,o.fieldType,r);else throw new U(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:L(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function Op(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>si(o,`${t}[${s}]`,r,n)):si(e,t,r,n)}function si(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new U(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new U(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new U(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new U(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new U(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new U(`Expected a float in column '${t}', got string: ${e}`);return i}throw new U(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new U(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new U(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!ta.Decimal.isDecimal(e))throw new U(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:Dp(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new U(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:Xt(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new U(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new U(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:g.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:g.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:g.from(e).toString("base64")};throw new U(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:L(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new U(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new U(`Value '${e}' not found in enum '${r.name}'`);return o}default:L(r,`DataMapper: Unknown result type: ${r.type}`)}}var Np=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Dp(e){let t=Np.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function Ae(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=Ae(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:Ae(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=Ae(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=Ae(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(Ae(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(Ae(o),Ae(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(Ae(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}function Mp(e){let t=Object.entries(e);return t.length===0?"":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,"\\'");return`${o}='${s}'`}).join(",")}*/`)}function Zr(e,t){let r={};for(let n of e){let i=n(Ae(t));for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function na(e,t){let r=Zr(e,t);return Mp(r)}function ia(e,t){return t?`${e} ${t}`:e}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var er;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(er||(er={}));function Lp(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:L(e,`Unknown provider: ${e}`)}}async function Yr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){let o=n===void 0?i:async()=>{let s=new Date,a=w.now(),m=await i(),f=w.now();return n({timestamp:s,duration:f-a,query:e.sql,params:e.args}),m};return t.isEnabled()?await t.runInChildSpan({name:"db_query",kind:er.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":Lp(r)}},o):o()}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function Ze(e,t){var r="000000000"+e;return r.substr(r.length-t)}var oa=Qe(Io(),1);function _p(){try{return oa.default.hostname()}catch{return y.env._CLUSTER_NETWORK_NAME_||y.env.COMPUTERNAME||"hostname"}}var sa=2,Fp=Ze(y.pid.toString(36),sa),aa=_p(),$p=aa.length,Vp=Ze(aa.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+$p+36).toString(36),sa);function ui(){return Fp+Vp}u();l();c();p();d();u();l();c();p();d();function Xr(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function li(e){let n=Math.pow(36,4),i=0;function o(){return Ze((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var m="c",f=new Date().getTime().toString(36),T=Ze(s().toString(36),4),A=e(),C=o()+o();return m+f+T+A+C}return a.fingerprint=e,a.isCuid=Xr,a}var Up=li(ui);var ua=Up;var ou=Qe(Ya());u();l();c();p();d();We();u();l();c();p();d();var Xa="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var vd=128,Xe,vt;function Cd(e){!Xe||Xe.length<e?(Xe=g.allocUnsafe(e*vd),Ft.getRandomValues(Xe),vt=0):vt+e>Xe.length&&(Ft.getRandomValues(Xe),vt=0),vt+=e}function wi(e=21){Cd(e|=0);let t="";for(let r=vt-e;r<vt;r++)t+=Xa[Xe[r]&63];return t}u();l();c();p();d();We();var tu="0123456789ABCDEFGHJKMNPQRSTVWXYZ",sr=32;var Rd=16,ru=10,eu=0xffffffffffff;var et;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(et||(et={}));var tt=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Id(e){let t=Math.floor(e()*sr);return t===sr&&(t=sr-1),tu.charAt(t)}function kd(e){let t=Od(),r=t&&(t.crypto||t.msCrypto)||(typeof ut<"u"?ut:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(ut?.randomBytes)return()=>ut.randomBytes(1).readUInt8()/255;throw new tt(et.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Od(){return Md()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function Nd(e,t){let r="";for(;e>0;e--)r=Id(t)+r;return r}function Dd(e,t=ru){if(isNaN(e))throw new tt(et.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>eu)throw new tt(et.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${eu}: ${e}`);if(e<0)throw new tt(et.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new tt(et.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%sr,n=tu.charAt(r)+n,e=(e-r)/sr;return n}function Md(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function nu(e,t){let r=t||kd(),n=!e||isNaN(e)?Date.now():e;return Dd(n,ru)+Nd(Rd,r)}u();l();c();p();d();u();l();c();p();d();var Y=[];for(let e=0;e<256;++e)Y.push((e+256).toString(16).slice(1));function nn(e,t=0){return(Y[e[t+0]]+Y[e[t+1]]+Y[e[t+2]]+Y[e[t+3]]+"-"+Y[e[t+4]]+Y[e[t+5]]+"-"+Y[e[t+6]]+Y[e[t+7]]+"-"+Y[e[t+8]]+Y[e[t+9]]+"-"+Y[e[t+10]]+Y[e[t+11]]+Y[e[t+12]]+Y[e[t+13]]+Y[e[t+14]]+Y[e[t+15]]).toLowerCase()}u();l();c();p();d();We();var sn=new Uint8Array(256),on=sn.length;function Ct(){return on>sn.length-16&&(Ar(sn),on=0),sn.slice(on,on+=16)}u();l();c();p();d();u();l();c();p();d();We();var bi={randomUUID:Tr};function Ld(e,t,r){if(bi.randomUUID&&!t&&!e)return bi.randomUUID();e=e||{};let n=e.random??e.rng?.()??Ct();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return nn(n)}var xi=Ld;u();l();c();p();d();var Ei={};function _d(e,t,r){let n;if(e)n=iu(e.random??e.rng?.()??Ct(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=Ct();Fd(Ei,i,o),n=iu(o,Ei.msecs,Ei.seq,t,r)}return t??nn(n)}function Fd(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function iu(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var Pi=_d;var an=class{#e={};constructor(){this.register("uuid",new Ai),this.register("cuid",new Si),this.register("ulid",new vi),this.register("nanoid",new Ci),this.register("product",new Ri)}snapshot(){return Object.create(this.#e,{now:{value:new Ti}})}register(t,r){this.#e[t]=r}},Ti=class{#e=new Date;generate(){return this.#e.toISOString()}},Ai=class{generate(t){if(t===4)return xi();if(t===7)return Pi();throw new Error("Invalid UUID generator arguments")}},Si=class{generate(t){if(t===1)return ua();if(t===2)return(0,ou.createId)();throw new Error("Invalid CUID generator arguments")}},vi=class{generate(){return nu()}},Ci=class{generate(t){if(typeof t=="number")return wi(t);if(t===void 0)return wi();throw new Error("Invalid Nanoid generator arguments")}},Ri=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};u();l();c();p();d();function un(e,t){return e==null?e:typeof e=="string"?un(JSON.parse(e),t):Array.isArray(e)?Vd(e,t):$d(e,t)}function $d(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!Pt(e,i))return null}return au(e,t.nested)}function au(e,t){for(let[r,n]of Object.entries(t))e[r]=un(e[r],n);return e}function Vd(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=Ud(e,r)}return t.pagination&&(e=qd(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>au(r,t.nested))}function Ud(e,t){let r=new Set,n=[];for(let i of e){let o=Rt(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function qd(e,t,r){if(r===null)return su(e,t);let n=new Map;for(let o of e){let s=Rt(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>su(o,t))}function su(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>Pt(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function Rt(e,t){return JSON.stringify(t.map(r=>e[r]))}u();l();c();p();d();u();l();c();p();d();function Ii(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function ki(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function Di(e,t,r,n){let i=e.args.map(o=>de(o,t,r));switch(e.type){case"rawSql":return[Qd(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?Hd(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new Z("The query parameter limit supported by your database is exceeded.","P2029");return Bd(e.fragments,e.placeholderFormat,s,e.argTypes)});default:L(e.type,"Invalid query type")}}function de(e,t,r){for(;Jd(e);)if(Ii(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(ki(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>de(s,t,r)))}else L(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>de(n,t,r))),e}function Bd(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let m of Ni(e,r,n)){if(i+=jd(m,t,o),m.type==="stringChunk")continue;let f=s.length,T=s.push(...uu(m))-f;if(m.argType.arity==="tuple"){if(T%m.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${T} parameters for a tuple of arity ${m.argType.elements.length}.`);for(let A=0;A<T/m.argType.elements.length;A++)a.push(...m.argType.elements)}else for(let A=0;A<T;A++)a.push(m.argType)}return{sql:i,args:s,argTypes:a}}function jd(e,t,r){let n=e.type;switch(n){case"parameter":return Oi(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>Oi(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>Oi(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:L(n,"Invalid fragment type")}}function Oi(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function Qd(e,t,r){return{sql:e,args:t,argTypes:r}}function Jd(e){return Ii(e)||ki(e)}function*Ni(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*uu(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function Hd(e,t,r){let n=0,i=0;for(let s of Ni(e,t,void 0)){let a=0;for(let m of uu(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of Ni(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,m=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let f=r-(n-a);m=Gd(s.value,f)}else m=[s.value];o=o.flatMap(f=>m.map(T=>[...f,T]));break}case"parameterTupleList":{let a=s.value.reduce((A,C)=>A+C.length,0),m=[],f=[],T=0;for(let A of s.value)r&&o.length===1&&a===i&&f.length>0&&n-a+T+A.length>r&&(m.push(f),f=[],T=0),f.push(A),T+=A.length;f.length>0&&m.push(f),o=o.flatMap(A=>m.map(C=>[...A,C]));break}}return o}function Gd(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}u();l();c();p();d();function lu(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function cu(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>Wd(t)),rows:e.rows.map(t=>t.map((r,n)=>ar(r,e.columnTypes[n])))}}function ar(e,t){if(e===null)return null;switch(t){case k.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case k.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>ar(r,k.Int32));case k.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case k.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>ar(r,k.Int64));case k.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case k.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>ar(r,k.Json));case k.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case k.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>ar(r,k.Boolean));default:return e}}function Wd(e){switch(e){case k.Int32:return"int";case k.Int64:return"bigint";case k.Float:return"float";case k.Double:return"double";case k.Text:return"string";case k.Enum:return"enum";case k.Bytes:return"bytes";case k.Boolean:return"bool";case k.Character:return"char";case k.Numeric:return"decimal";case k.Json:return"json";case k.Uuid:return"uuid";case k.DateTime:return"datetime";case k.Date:return"date";case k.Time:return"time";case k.Int32Array:return"int-array";case k.Int64Array:return"bigint-array";case k.FloatArray:return"float-array";case k.DoubleArray:return"double-array";case k.TextArray:return"string-array";case k.EnumArray:return"string-array";case k.BytesArray:return"bytes-array";case k.BooleanArray:return"bool-array";case k.CharacterArray:return"char-array";case k.NumericArray:return"decimal-array";case k.JsonArray:return"json-array";case k.UuidArray:return"uuid-array";case k.DateTimeArray:return"datetime-array";case k.DateArray:return"date-array";case k.TimeArray:return"time-array";case k.UnknownNumber:return"unknown";case k.Set:return"string";default:L(e,`Unexpected column type: ${e}`)}}u();l();c();p();d();function pu(e,t,r){if(!t.every(n=>Mi(e,n))){let n=zd(e,r),i=Kd(r);throw new Z(n,i,r.context)}}function Mi(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:L(t,`Unknown rule type: ${t.type}`)}}function zd(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:L(t,`Unknown error identifier: ${t}`)}}function Kd(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:L(e,`Unknown error identifier: ${e}`)}}var ur=class e{#e;#t=new an;#r;#n;#i;#o;#a;constructor({onQuery:t,tracingHelper:r,serializer:n,rawSerializer:i,provider:o,connectionInfo:s}){this.#e=t,this.#r=r,this.#n=n,this.#i=i??n,this.#o=o,this.#a=s}static forSql(t){return new e({onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:lu,rawSerializer:cu,provider:t.provider,connectionInfo:t.connectionInfo})}async run(t,r){let{value:n}=await this.interpretNode(t,{...r,generators:this.#t.snapshot()}).catch(i=>Tt(i));return n}async interpretNode(t,r){switch(t.type){case"value":return{value:de(t.args,r.scope,r.generators)};case"seq":{let n;for(let i of t.args)n=await this.interpretNode(i,r);return n??{value:void 0}}case"get":return{value:r.scope[t.args.name]};case"let":{let n=Object.create(r.scope);for(let i of t.args.bindings){let{value:o}=await this.interpretNode(i.expr,{...r,scope:n});n[i.name]=o}return this.interpretNode(t.args.expr,{...r,scope:n})}case"getFirstNonEmpty":{for(let n of t.args.names){let i=r.scope[n];if(!du(i))return{value:i}}return{value:[]}}case"concat":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>i.concat(Li(o)),[]):[]}}case"sum":{let n=await Promise.all(t.args.map(i=>this.interpretNode(i,r).then(o=>o.value)));return{value:n.length>0?n.reduce((i,o)=>Se(i)+Se(o)):0}}case"execute":{let n=Di(t.args,r.scope,r.generators,this.#s()),i=0;for(let o of n){let s=mu(o,r.sqlCommenter);i+=await this.#u(s,r.queryable,()=>r.queryable.executeRaw(s).catch(a=>t.args.type==="rawSql"?oi(a):Tt(a)))}return{value:i}}case"query":{let n=Di(t.args,r.scope,r.generators,this.#s()),i;for(let o of n){let s=mu(o,r.sqlCommenter),a=await this.#u(s,r.queryable,()=>r.queryable.queryRaw(s).catch(m=>t.args.type==="rawSql"?oi(m):Tt(m)));i===void 0?i=a:(i.rows.push(...a.rows),i.lastInsertId=a.lastInsertId)}return{value:t.args.type==="rawSql"?this.#i(i):this.#n(i),lastInsertId:i?.lastInsertId}}case"reverse":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);return{value:Array.isArray(n)?n.reverse():n,lastInsertId:i}}case"unique":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(!Array.isArray(n))return{value:n,lastInsertId:i};if(n.length>1)throw new Error(`Expected zero or one element, got ${n.length}`);return{value:n[0]??null,lastInsertId:i}}case"required":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args,r);if(du(n))throw new Error("Required value is empty");return{value:n,lastInsertId:i}}case"mapField":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.records,r);return{value:fu(n,t.args.field),lastInsertId:i}}case"join":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.parent,r);if(n===null)return{value:null,lastInsertId:i};let o=await Promise.all(t.args.children.map(async s=>({joinExpr:s,childRecords:(await this.interpretNode(s.child,r)).value})));return{value:Zd(n,o),lastInsertId:i}}case"transaction":{if(!r.transactionManager.enabled)return this.interpretNode(t.args,r);let n=r.transactionManager.manager,i=await n.startInternalTransaction(),o=await n.getTransaction(i,"query");try{let s=await this.interpretNode(t.args,{...r,queryable:o});return await n.commitTransaction(i.id),s}catch(s){throw await n.rollbackTransaction(i.id),s}}case"dataMap":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return{value:ra(n,t.args.structure,t.args.enums),lastInsertId:i}}case"validate":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return pu(n,t.args.rules,t.args),{value:n,lastInsertId:i}}case"if":{let{value:n}=await this.interpretNode(t.args.value,r);return Mi(n,t.args.rule)?await this.interpretNode(t.args.then,r):await this.interpretNode(t.args.else,r)}case"unit":return{value:void 0};case"diff":{let{value:n}=await this.interpretNode(t.args.from,r),{value:i}=await this.interpretNode(t.args.to,r),o=a=>a!==null?Rt(ln(a),t.args.fields):null,s=new Set(Li(i).map(o));return{value:Li(n).filter(a=>!s.has(o(a)))}}case"process":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r);return gu(t.args.operations,r.scope,r.generators),{value:un(n,t.args.operations),lastInsertId:i}}case"initializeRecord":{let{lastInsertId:n}=await this.interpretNode(t.args.expr,r),i={};for(let[o,s]of Object.entries(t.args.fields))i[o]=Yd(s,n,r.scope,r.generators);return{value:i,lastInsertId:n}}case"mapRecord":{let{value:n,lastInsertId:i}=await this.interpretNode(t.args.expr,r),o=n===null?{}:ln(n);for(let[s,a]of Object.entries(t.args.fields))o[s]=Xd(a,o[s],r.scope,r.generators);return{value:o,lastInsertId:i}}default:L(t,`Unexpected node type: ${t.type}`)}}#s(){return this.#a?.maxBindValues!==void 0?this.#a.maxBindValues:this.#l()}#l(){if(this.#o!==void 0)switch(this.#o){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:L(this.#o,`Unexpected provider: ${this.#o}`)}}#u(t,r,n){return Yr({query:t,execute:n,provider:this.#o??r.provider,tracingHelper:this.#r,onQuery:this.#e})}};function du(e){return Array.isArray(e)?e.length===0:e==null}function Li(e){return Array.isArray(e)?e:[e]}function Se(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function ln(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function fu(e,t){return Array.isArray(e)?e.map(r=>fu(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function Zd(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let m=ln(a),f=Rt(m,i);s[f]||(s[f]=[]),s[f].push(m),r.isRelationUnique?m[r.parentField]=null:m[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let m=Rt(ln(a),o);for(let f of s[m]??[])r.isRelationUnique?f[r.parentField]=a:f[r.parentField].push(a)}}return e}function Yd(e,t,r,n){switch(e.type){case"value":return de(e.value,r,n);case"lastInsertId":return t;default:L(e,`Unexpected field initializer type: ${e.type}`)}}function Xd(e,t,r,n){switch(e.type){case"set":return de(e.value,r,n);case"add":return Se(t)+Se(de(e.value,r,n));case"subtract":return Se(t)-Se(de(e.value,r,n));case"multiply":return Se(t)*Se(de(e.value,r,n));case"divide":{let i=Se(t),o=Se(de(e.value,r,n));return o===0?null:i/o}default:L(e,`Unexpected field operation type: ${e.type}`)}}function mu(e,t){if(!t||t.plugins.length===0)return e;let r=na(t.plugins,{query:t.queryInfo,sql:e.sql});return r?{...e,sql:ia(e.sql,r)}:e}function gu(e,t,r){let n=e.pagination?.cursor;if(n)for(let[i,o]of Object.entries(n))n[i]=de(o,t,r);for(let i of Object.values(e.nested))gu(i,t,r)}u();l();c();p();d();u();l();c();p();d();async function em(){return globalThis.crypto??await Promise.resolve().then(()=>(We(),$n))}async function yu(){return(await em()).randomUUID()}u();l();c();p();d();async function hu(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}u();l();c();p();d();var me=class extends Z{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},lr=class extends me{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},cn=class extends me{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},pn=class extends me{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},dn=class extends me{constructor(){super("Unable to start a transaction in the given time.")}},mn=class extends me{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},It=class extends me{constructor(t){super(`Internal Consistency Error: ${t}`)}},fn=class extends me{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var tm=100,kt=te("prisma:client:transactionManager"),rm=()=>({sql:"COMMIT",args:[],argTypes:[]}),nm=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),im=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),om=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),cr=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#e;#t;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#e=i,this.#t=o}async startInternalTransaction(t){let r=t!==void 0?this.#a(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async startTransaction(t){let r=t!==void 0?this.#a(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async#r(t){let r={id:await yu(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=wu(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(Tt);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),hu(n.signal,"abort").then(()=>{})]),this.transactions.set(r.id,r),r.status){case"waiting":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>kt("error in discarded transaction:",s)),await this.#o(r,"timed_out"),new dn;return r.status="running",r.timer=this.#i(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new It(`Transaction in invalid state ${r.status} although it just finished startup.`);default:L(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#n(t,"commit");await this.#o(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#n(t,"rollback");await this.#o(r,"rolled_back")})}async getTransaction(t,r){let n=this.#n(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#n(t.id,r)),!n.transaction)throw new lr;return n.transaction}#n(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(kt("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new It("Active transaction found in closed transactions list.");case"committed":throw new cn(r);case"rolled_back":throw new pn(r);case"timed_out":throw new mn(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw kt("Transaction not found.",t),new lr}if(["committed","rolled_back","timed_out"].includes(n.status))throw new It("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#o(t,"rolled_back")))}#i(t,r){let n=Date.now(),i=wu(async()=>{kt("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#o(o,"timed_out"):kt("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#o(t,r){let n=async()=>{kt("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#s(im(),t.transaction,()=>t.transaction.commit());else{let i=rm();await this.#s(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#s(om(),t.transaction,()=>t.transaction.rollback());else{let i=nm();try{await this.#s(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>tm&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#n(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#a(t){if(!t.timeout)throw new me("timeout is required");if(!t.maxWait)throw new me("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new fn(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#s(t,r,n){return Yr({query:t,execute:n,provider:this.#t??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#e})}};function wu(e,t){return t!==void 0?setTimeout(e,t):void 0}var ee=require("@prisma/client-runtime-utils");u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();function bu(e){return new _i(e).deserialize()}function sm(e){return g.from(e,"base64url")}var _i=class{#e;#t;#r=0;constructor(t){this.#e=t;let r=sm(t.graph);this.#t=new DataView(r.buffer,r.byteOffset,r.byteLength)}deserialize(){let{inputNodeCount:t,outputNodeCount:r,rootCount:n}=this.#s(),i=this.#l(t),o=this.#u(r),s=this.#p(n);return{strings:this.#e.strings,inputNodes:i,outputNodes:o,roots:s}}#n(){let t=0,r=0,n;do n=this.#t.getUint8(this.#r++),t|=(n&127)<<r,r+=7;while(n>=128);return t}#i(){let t=this.#n();return t===0?void 0:t-1}#o(){let t=this.#t.getUint8(this.#r);return this.#r+=1,t}#a(){let t=this.#t.getUint16(this.#r,!0);return this.#r+=2,t}#s(){let t=this.#n(),r=this.#n(),n=this.#n();return{inputNodeCount:t,outputNodeCount:r,rootCount:n}}#l(t){let r=[];for(let n=0;n<t;n++){let i=this.#n(),o={};for(let s=0;s<i;s++){let a=this.#n(),m=this.#a(),f=this.#i(),T=this.#i(),C={flags:this.#o()};m!==0&&(C.scalarMask=m),f!==void 0&&(C.childNodeId=f),T!==void 0&&(C.enumNameIndex=T),o[a]=C}r.push({edges:o})}return r}#u(t){let r=[];for(let n=0;n<t;n++){let i=this.#n(),o={};for(let s=0;s<i;s++){let a=this.#n(),m=this.#i(),f=this.#i(),T={};m!==void 0&&(T.argsNodeId=m),f!==void 0&&(T.outputNodeId=f),o[a]=T}r.push({edges:o})}return r}#p(t){let r={};for(let n=0;n<t;n++){let i=this.#n(),o=this.#i(),s=this.#i(),a=this.#e.strings[i],m={};o!==void 0&&(m.argsNodeId=o),s!==void 0&&(m.outputNodeId=s),r[a]=m}return r}};var pr=class e{#e;#t;#r;constructor(t,r){this.#e=t,this.#r=r,this.#t=new Map;for(let n=0;n<t.strings.length;n++)this.#t.set(t.strings[n],n)}static deserialize(t,r){let n=bu(t);return new e(n,r)}static fromData(t,r){return new e(t,r)}root(t){let r=this.#e.roots[t];if(r)return{argsNodeId:r.argsNodeId,outputNodeId:r.outputNodeId}}inputNode(t){if(!(t===void 0||t<0||t>=this.#e.inputNodes.length))return{id:t}}outputNode(t){if(!(t===void 0||t<0||t>=this.#e.outputNodes.length))return{id:t}}inputEdge(t,r){if(!t)return;let n=this.#e.inputNodes[t.id];if(!n)return;let i=this.#t.get(r);if(i===void 0)return;let o=n.edges[i];if(o)return{flags:o.flags,childNodeId:o.childNodeId,scalarMask:o.scalarMask??0,enumNameIndex:o.enumNameIndex}}outputEdge(t,r){if(!t)return;let n=this.#e.outputNodes[t.id];if(!n)return;let i=this.#t.get(r);if(i===void 0)return;let o=n.edges[i];if(o)return{argsNodeId:o.argsNodeId,outputNodeId:o.outputNodeId}}enumValues(t){if(t?.enumNameIndex===void 0)return;let r=this.#e.strings[t.enumNameIndex];if(r)return this.#r(r)}getString(t){return this.#e.strings[t]}},ve={ParamScalar:1,ParamEnum:2,ParamListScalar:4,ParamListEnum:8,ListObject:16,Object:32},X={String:1,Int:2,BigInt:4,Float:8,Decimal:16,Boolean:32,DateTime:64,Json:128,Bytes:256};function Ce(e,t){return(e.flags&t)!==0}function Be(e){return e.scalarMask}var gn="7.4.1";u();l();c();p();d();var xu={bigint:"bigint",date:"datetime",decimal:"decimal",bytes:"bytes"};function Pu(e){let t;try{t=JSON.parse(e)}catch(i){throw new Error(`Received invalid serialized parameters: ${i.message}`)}if(!Array.isArray(t))throw new Error("Received invalid serialized parameters: expected an array");let r=t.map(i=>Tu(i)),n=t.map(i=>um(i));return{args:r,argTypes:n}}function Tu(e){if(Array.isArray(e))return e.map(t=>Tu(t));if(typeof e=="object"&&e!==null&&"prisma__value"in e){if(!("prisma__type"in e))throw new Error("Invalid serialized parameter, prisma__type should be present when prisma__value is present");return`${e.prisma__value}`}return typeof e=="object"&&e!==null?JSON.stringify(e):e}function um(e){return Array.isArray(e)?{scalarType:e.length>0?Eu(e[0]):"unknown",arity:"list"}:{scalarType:Eu(e),arity:"scalar"}}function Eu(e){return typeof e=="object"&&e!==null&&"prisma__type"in e&&typeof e.prisma__type=="string"&&e.prisma__type in xu?xu[e.prisma__type]:typeof e=="number"?"decimal":typeof e=="string"?"string":"unknown"}u();l();c();p();d();function Au(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}u();l();c();p();d();u();l();c();p();d();function Su(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}u();l();c();p();d();function vu(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}u();l();c();p();d();var Cu=Qe(Fo());function Ru({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,Cu.default)({user:t,repo:r,template:n,title:e,body:i})}function Iu({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=vo(6e3-(s?.length??0)),m=vu(lt(a)),f=n?`# Description
\`\`\`
${n}
\`\`\``:"",T=lt(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${y.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${f}

## Logs
\`\`\`
${m}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?Su(s):""}
\`\`\`
`),A=Ru({title:r,body:T});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${Pr(A)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}u();l();c();p();d();var yn=class e{#e;#t;#r;#n;#i;constructor(t,r,n){this.#e=t,this.#t=r,this.#r=n,this.#n=r.getConnectionInfo?.(),this.#i=ur.forSql({onQuery:this.#e.onQuery,tracingHelper:this.#e.tracingHelper,provider:this.#e.provider,connectionInfo:this.#n})}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new cr({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#t.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#r.getTransaction(n,i!==void 0?"batch query":"query"):this.#t;return await this.#i.run(t,{queryable:s,transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#r},scope:r,sqlCommenter:this.#e.sqlCommenters&&{plugins:this.#e.sqlCommenters,queryInfo:o}})}async startTransaction(t){return{...await this.#r.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#r.commitTransaction(t.id)}async rollbackTransaction(t){await this.#r.rollbackTransaction(t.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#t.dispose()}}apiKey(){return null}};u();l();c();p();d();u();l();c();p();d();var lm=new Set(["DateTime","Decimal","BigInt","Bytes","Json","Raw"]);function hn(e){if(e==null)return{kind:"null"};if(typeof e=="string")return{kind:"primitive",value:e};if(typeof e=="number")return{kind:"primitive",value:e};if(typeof e=="boolean")return{kind:"primitive",value:e};if(Array.isArray(e))return{kind:"array",items:e};if(typeof e=="object"){let t=e;if("$type"in t&&typeof t.$type=="string"){let r=t.$type;return lm.has(r)?{kind:"taggedScalar",tag:r,value:t.value}:{kind:"structural",value:t.value}}return{kind:"object",entries:t}}return{kind:"structural",value:e}}function ku(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!("$type"in e)}function Ou(e){return typeof e=="object"&&e!==null&&"$type"in e&&typeof e.$type=="string"}function Du(e,t){let r=new wn(t),n=e.modelName?`${e.modelName}.${e.action}`:e.action,i=t.root(n);return{parameterizedQuery:{...e,query:r.parameterizeFieldSelection(e.query,i?.argsNodeId,i?.outputNodeId)},placeholderValues:r.getPlaceholderValues()}}function Mu(e,t){let r=new wn(t),n=[];for(let i=0;i<e.batch.length;i++){let o=e.batch[i],s=o.modelName?`${o.modelName}.${o.action}`:o.action,a=t.root(s);n.push({...o,query:r.parameterizeFieldSelection(o.query,a?.argsNodeId,a?.outputNodeId)})}return{parameterizedBatch:{...e,batch:n},placeholderValues:r.getPlaceholderValues()}}var wn=class{#e;#t=new Map;#r=new Map;#n=1;constructor(t){this.#e=t}getPlaceholderValues(){return Object.fromEntries(this.#t)}#i(t,r){let n=pm(t,r),i=this.#r.get(n);if(i!==void 0)return Nu(i,r);let o=`%${this.#n++}`;return this.#r.set(n,o),this.#t.set(o,t),Nu(o,r)}parameterizeFieldSelection(t,r,n){let i=this.#e.inputNode(r),o=this.#e.outputNode(n),s={...t};return t.arguments&&t.arguments.$type!=="Raw"&&(s.arguments=this.#o(t.arguments,i)),t.selection&&(s.selection=this.#c(t.selection,o)),s}#o(t,r){if(!r)return t;let n={};for(let[i,o]of Object.entries(t)){let s=this.#e.inputEdge(r,i);s?n[i]=this.#a(o,s):n[i]=o}return n}#a(t,r){let n=hn(t);switch(n.kind){case"null":return t;case"structural":return t;case"primitive":return this.#s(n.value,r);case"taggedScalar":return this.#l(t,n.tag,r);case"array":return this.#u(n.items,t,r);case"object":return this.#p(n.entries,r);default:throw new Error(`Unknown value kind ${n.kind}`)}}#s(t,r){if(Ce(r,ve.ParamEnum)&&r.enumNameIndex!==void 0&&typeof t=="string"&&this.#e.enumValues(r)?.includes(t)){let s={type:"Enum"};return this.#i(t,s)}if(!Ce(r,ve.ParamScalar))return t;let n=Be(r);if(n===0)return t;let i=Fi(t);return _u(i,n)?(n&X.Json&&(t=JSON.stringify(t)),this.#i(t,i)):t}#l(t,r,n){if(!Ce(n,ve.ParamScalar))return t;let i=Be(n);if(i===0||!$u(r,i))return t;let o=Fu(t.$type),s=Vu(t);return this.#i(s,o)}#u(t,r,n){if(Ce(n,ve.ParamScalar)&&Be(n)&X.Json){let i=JSON.stringify(ye(t)),o={type:"Json"};return this.#i(i,o)}if(Ce(n,ve.ParamEnum)){let i=this.#e.enumValues(n);if(i&&t.every(o=>typeof o=="string"&&i.includes(o))){let o={type:"List",inner:{type:"Enum"}};return this.#i(t,o)}}if(Ce(n,ve.ParamListScalar)&&t.every(o=>ym(o,n))&&t.length>0){let o=t.map(m=>hm(m)),a={type:"List",inner:fm(t)};return this.#i(o,a)}if(Ce(n,ve.ListObject)){let i=this.#e.inputNode(n.childNodeId);if(i)return t.map(o=>ku(o)?this.#o(o,i):o)}return r}#p(t,r){if(Ce(r,ve.Object)){let i=this.#e.inputNode(r.childNodeId);if(i)return this.#o(t,i)}if(Be(r)&X.Json){let i=JSON.stringify(ye(t)),o={type:"Json"};return this.#i(i,o)}return t}#c(t,r){if(!t||!r)return t;let n={};for(let[i,o]of Object.entries(t)){if(i==="$scalars"||i==="$composites"||typeof o=="boolean"){n[i]=o;continue}let s=this.#e.outputEdge(r,i);if(s){let a=o,m=this.#e.inputNode(s.argsNodeId),f=this.#e.outputNode(s.outputNodeId),T={selection:a.selection?this.#c(a.selection,f):{}};a.arguments&&(T.arguments=this.#o(a.arguments,m)),n[i]=T}else n[i]=o}return n}};function Nu(e,t){return{$type:"Param",value:{name:e,...t}}}function Lu(e){return e.type==="List"?`List<${Lu(e.inner)}>`:e.type}function cm(e){return ArrayBuffer.isView(e)?g.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"):JSON.stringify(e)}function pm(e,t){let r=Lu(t),n=cm(e);return`${r}:${n}`}var dm=2**31-1,mm=-(2**31);function Fi(e){switch(typeof e){case"boolean":return{type:"Boolean"};case"number":return Number.isInteger(e)?mm<=e&&e<=dm?{type:"Int"}:{type:"BigInt"}:{type:"Float"};case"string":return{type:"String"};default:throw new Error("unreachable")}}function _u({type:e},t){switch(e){case"Boolean":return(t&X.Boolean)!==0;case"Int":return(t&(X.Int|X.BigInt|X.Float))!==0;case"BigInt":return(t&X.BigInt)!==0;case"Float":return(t&X.Float)!==0;case"String":return(t&X.String)!==0;default:return!1}}function Fu(e){switch(e){case"BigInt":case"Bytes":case"DateTime":case"Json":return{type:e};case"Decimal":return{type:"Float"};default:return}}function fm(e){let t={type:"Any"};for(let r of e){let n=hn(r),i;switch(n.kind){case"primitive":i=Fi(n.value);break;case"taggedScalar":i=Fu(n.tag)??{type:"Any"};break;default:return{type:"Any"}}t=gm(t,i)}return t}function gm(e,t){if(e.type==="Any")return t;if(t.type==="Any"||e.type===t.type)return e;let r={Int:0,BigInt:1,Float:2},n=r[e.type],i=r[t.type];return n!==void 0&&i!==void 0?n>=i?e:t:{type:"Any"}}function $u(e,t){switch(e){case"DateTime":return(t&X.DateTime)!==0;case"Decimal":return(t&X.Decimal)!==0;case"BigInt":return(t&X.BigInt)!==0;case"Bytes":return(t&X.Bytes)!==0;case"Json":return(t&X.Json)!==0;default:return!1}}function ym(e,t){let r=hn(e);switch(r.kind){case"structural":return!1;case"null":return!1;case"primitive":{let n=Fi(r.value),i=Be(t);return i!==0&&_u(n,i)}case"taggedScalar":{let n=Be(t);return n!==0&&$u(r.tag,n)}default:return!1}}function hm(e){return Ou(e)?Vu(e):e}function Vu(e){return e.value}u();l();c();p();d();var bn=class{#e;#t;#r;constructor(t=1e3){this.#e=new Map,this.#t=new Map,this.#r=t}getSingle(t){let r=this.#e.get(t);return r&&(this.#e.delete(t),this.#e.set(t,r)),r}setSingle(t,r){if(this.#e.has(t)){this.#e.delete(t),this.#e.set(t,r);return}if(this.#e.size>=this.#r){let n=this.#e.keys().next().value;n!==void 0&&this.#e.delete(n)}this.#e.set(t,r)}getBatch(t){let r=this.#t.get(t);return r&&(this.#t.delete(t),this.#t.set(t,r)),r}setBatch(t,r){if(this.#t.has(t)){this.#t.delete(t),this.#t.set(t,r);return}if(this.#t.size>=this.#r){let n=this.#t.keys().next().value;n!==void 0&&this.#t.delete(n)}this.#t.set(t,r)}clear(){this.#e.clear(),this.#t.clear()}get size(){return this.#e.size+this.#t.size}get singleCacheSize(){return this.#e.size}get batchCacheSize(){return this.#t.size}};u();l();c();p();d();var Ju=require("@prisma/client-runtime-utils");u();l();c();p();d();var xn=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Uu(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!xn.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!xn.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!xn.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!xn.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!wm(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function wm(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function qu(e,t){let r=(e||"").split(";").filter(m=>typeof m=="string"&&!!m.trim()),n=r.shift()||"",i=bm(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let m of r){let f=m.split("="),T=(f.shift()||"").trimStart().toLowerCase(),A=f.join("=");switch(T){case"expires":{a.expires=new Date(A);break}case"max-age":{a.maxAge=Number.parseInt(A,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=A;break}default:a[T]=A}}return a}function bm(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var En=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var Pn=class extends En{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};u();l();c();p();d();function Bu(e,t){return{...e,isRetryable:t}}var rt=class extends Pn{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,Bu(r,!1))}};Ut(rt,"InvalidDatasourceError");function ju(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(m){let f=m.message;throw new rt(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${f}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==vr)throw new rt("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new rt("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=Vn(r)?"http:":"https:";y.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}u();l();c();p();d();var Qu=Qe(Oo()),Tn=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Qu.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#e();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#e(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};u();l();c();p();d();function xm(e){return e[0]*1e3+e[1]/1e6}function $i(e){return new Date(xm(e))}var Hu=te("prisma:client:clientEngine:remoteExecutor"),An=class{#e;#t;#r;#n;#i;#o;constructor(t){this.#e=t.clientVersion,this.#n=t.logEmitter,this.#i=t.tracingHelper,this.#o=t.sqlCommenters;let{url:r,apiKey:n}=ju({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#r=new Vi(r),this.#t=new Tn({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#a({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:m}){let f=m&&this.#o?.length?Zr(this.#o,{query:m}):void 0;return(await this.#a({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r,comments:f&&Object.keys(f).length>0?f:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#a({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#a({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#a({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#t.apiKey}async#a({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#r.request({method:r,path:t,headers:this.#t.build(),body:n,fetch:i});s.ok||await this.#s(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#l(a.extensions),a}async#s(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new Ju.PrismaClientKnownRequestError(s,{clientVersion:this.#e,code:n??"P6000",batchRequestIdx:r,meta:a})}#l(t){if(t.logs)for(let r of t.logs)this.#u(r);t.spans&&this.#i.dispatchEngineSpans(t.spans)}#u(t){switch(t.level){case"debug":case"trace":Hu(t);break;case"error":case"warn":case"info":{this.#n.emit(t.level,{timestamp:$i(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#n.emit("query",{query:t.attributes.query??"",timestamp:$i(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Vi=class{#e;#t;#r;constructor(t){this.#e=t,this.#t=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#e),a=this.#n(s);a&&(n.Cookie=a),this.#r&&(n["Accelerate-Query-Engine-Jwt"]=this.#r);let m=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return Hu(t,s,m.status,m.statusText),this.#r=m.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#i(s,m),m}#n(t){let r=[],n=new Date;for(let[i,o]of this.#t){if(o.expires&&o.expires<n){this.#t.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(Uu(o.name,o.value))}return r.length>0?r.join("; "):void 0}#i(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=qu(i),s=o.domain??t.hostname,a=o.path??"/",m=`${s}:${a}:${o.name}`;this.#t.set(m,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};u();l();c();p();d();var qi=require("@prisma/client-runtime-utils"),Ui={},Gu={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new qi.PrismaClientInitializationError("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||Ui[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new qi.PrismaClientInitializationError("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={[r.importName]:i},a=new WebAssembly.Instance(o,s),m=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),m(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Ui[e.activeProvider]=n)):n=Ui[e.activeProvider],await n}};var Em="P2038",De=te("prisma:client:clientEngine"),Zu=globalThis;Zu.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new ee.PrismaClientRustPanicError(e,gn)}};var dr=class{name="ClientEngine";#e;#t={type:"disconnected"};#r;#n;#i;#o;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#a;constructor(t,r){if(t.accelerateUrl!==void 0)this.#n={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#n={remote:!1,driverAdapterFactory:t.adapter},De("Using driver adapter: %O",t.adapter);else throw new ee.PrismaClientInitializationError("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,Em);this.#r=r??Gu,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,this.#i=new bn,this.#o=pr.deserialize(t.parameterizationSchema,n=>{if(Object.hasOwn(t.runtimeDataModel.enums,n))return t.runtimeDataModel.enums[n].values.map(i=>i.name)}),t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#a=n=>{this.logEmitter.emit("query",{...n,params:Xt(n.params),target:"ClientEngine"})})}async#s(){switch(this.#t.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#l(),n=await this.#u(r)}catch(o){throw this.#t={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#t={type:"connected",engine:i},i});return this.#t={type:"connecting",promise:t},await t}case"connecting":return await this.#t.promise;case"connected":return this.#t.engine;case"disconnecting":return await this.#t.promise,await this.#s()}}async#l(){return this.#n.remote?new An({clientVersion:this.config.clientVersion,accelerateUrl:this.#n.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await yn.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#g(this.config.transactionOptions.isolationLevel)},onQuery:this.#a,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#u(t){let r=this.#e;r===void 0&&(r=await this.#r.loadQueryCompiler(this.config),this.#e=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#m(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#p(o)}}#p(t){if(t instanceof ee.PrismaClientRustPanicError)return t;try{let r=JSON.parse(t.message);return new ee.PrismaClientInitializationError(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#c(t,r){if(t instanceof ee.PrismaClientInitializationError)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new ee.PrismaClientRustPanicError(Wu(this,t.message,r),this.config.clientVersion);if(t instanceof Z)return new ee.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new ee.PrismaClientUnknownRequestError(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#d(t){return t instanceof ee.PrismaClientRustPanicError?t:typeof t.message=="string"&&typeof t.code=="string"?new ee.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new ee.PrismaClientUnknownRequestError(t.message,{clientVersion:this.config.clientVersion}):t}#m(t,r,n=!0){let i=Zu.PRISMA_WASM_PANIC_REGISTRY.set_message,o;globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#e=void 0,n&&this.stop().catch(s=>De("failed to disconnect:",s)),new ee.PrismaClientRustPanicError(Wu(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#s()}async stop(){switch(this.#t.type){case"disconnected":return;case"connecting":return await this.#t.promise,await this.stop();case"connected":{let t=this.#t.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#t={type:"disconnected"}}});return this.#t={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#t.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#s();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#g(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else ke(t,"Invalid transaction action.")}catch(s){throw this.#c(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){De("sending request");let{executor:i,queryCompiler:o}=await this.#s().catch(m=>{throw this.#c(m,JSON.stringify(t))}),s,a={};if(zu(t))s=Ku(t);else{let{parameterizedQuery:m,placeholderValues:f}=Du(t,this.#o),T=JSON.stringify(m);a=f;let A=this.#i.getSingle(T);A?(De("query plan cache hit"),s=A):(De("query plan cache miss"),s=this.#h(m,T,o),this.#i.setSingle(T,s))}try{De("query plan created",s);let m=await i.execute({plan:s,model:t.modelName,operation:t.action,placeholderValues:a,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",modelName:t.modelName,action:t.action,query:t.query}});return De("query plan executed"),{data:{[t.action]:m}}}catch(m){throw this.#c(m,JSON.stringify(t))}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=Au(t,r),a=JSON.stringify(s),{executor:m,queryCompiler:f}=await this.#s().catch(S=>{throw this.#c(S,a)}),T=o===void 0,A,C={};if(T)A=this.#f(t,a,f);else{let{parameterizedBatch:S,placeholderValues:N}=Mu(s,this.#o),R=JSON.stringify(S);C=N;let I=this.#i.getBatch(R);if(I)De("batch query plan cache hit"),A=I;else{De("batch query plan cache miss");try{A=this.#f(S.batch,R,f),this.#i.setBatch(R,A)}catch(ne){throw this.#d(ne)}}}try{let S;switch(r?.kind==="itx"&&(S=r.options),A.type){case"multi":{if(r?.kind!=="itx"){let I=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;S=await this.transaction("start",{},I)}let N=[],R=!1;for(let[I,ne]of A.plans.entries())try{let Q=await m.execute({plan:ne,placeholderValues:C,model:t[I].modelName,operation:t[I].action,batchIndex:I,transaction:S,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",...t[I]}});N.push({data:{[t[I].action]:Q}})}catch(Q){N.push(Q),R=!0;break}return S!==void 0&&r?.kind!=="itx"&&(R?await this.transaction("rollback",{},S):await this.transaction("commit",{},S)),N}case"compacted":{if(!t.every(I=>I.action===i&&I.modelName===o)){let I=t.map(Q=>Q.action).join(", "),ne=t.map(Q=>Q.modelName).join(", ");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${I}] and model names: [${ne}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error("Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.");let N=await m.execute({plan:A.plan,placeholderValues:C,model:o,operation:i,batchIndex:void 0,transaction:S,customFetch:n?.(globalThis.fetch),queryInfo:{type:"compacted",action:i,modelName:o,queries:t}});return Ys(N,A,C).map(I=>({data:{[i]:I}}))}}}catch(S){throw this.#c(S,a)}}async apiKey(){let{executor:t}=await this.#s();return t.apiKey()}#h(t,r,n){try{return this.#m(()=>this.#y({queries:[t],execute:()=>n.compile(r)}))}catch(i){throw this.#d(i)}}#f(t,r,n){if(t.every(zu))return{type:"multi",plans:t.map(i=>Ku(i))};try{return this.#m(()=>this.#y({queries:t,execute:()=>n.compileBatch(r)}))}catch(i){throw this.#d(i)}}#g(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new ee.PrismaClientKnownRequestError(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#y({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function Wu(e,t,r){return Iu({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function zu(e){return e.action==="queryRaw"||e.action==="executeRaw"}function Ku(e){let t=e.query.arguments.query,{args:r,argTypes:n}=Pu(e.query.arguments.parameters);return{type:e.action==="queryRaw"?"query":"execute",args:{type:"rawSql",sql:t,args:r,argTypes:n}}}function Yu(e){return new dr(e)}u();l();c();p();d();var Xu=e=>({command:e});u();l();c();p();d();var al=require("@prisma/client-runtime-utils");u();l();c();p();d();var el=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);u();l();c();p();d();var nl=require("@prisma/client-runtime-utils");function Ot(e){try{return tl(e,"fast")}catch{return tl(e,"slow")}}function tl(e,t){return JSON.stringify(e.map(r=>il(r,t)))}function il(e,t){if(Array.isArray(e))return e.map(r=>il(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(ct(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(nl.Decimal.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(g.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Pm(e))return{prisma__type:"bytes",prisma__value:g.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:g.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?ol(e):e}function Pm(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function ol(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(rl);let t={};for(let r of Object.keys(e))t[r]=rl(e[r]);return t}function rl(e){return typeof e=="bigint"?e.toString():ol(e)}var Tm=/^(\s*alter\s)/i,sl=te("prisma:client");function Bi(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&Tm.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var ji=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Qr(r))n=r.sql,i={values:Ot(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:Ot(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:Ot(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:Ot(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=el(r),i={values:Ot(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?sl(`prisma.${e}(${n}, ${i.values})`):sl(`prisma.${e}(${n})`),{query:n,parameters:i}},ul={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new al.Sql(t,r)}},ll={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};u();l();c();p();d();function Qi(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=cl(r(s)):cl(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function cl(e){return typeof e.then=="function"?e:Promise.resolve(e)}u();l();c();p();d();u();l();c();p();d();u();l();c();p();d();var pl={name:"@prisma/instrumentation-contract",version:"7.4.1",description:"Shared types and utilities for Prisma instrumentation",main:"dist/index.js",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{require:{types:"./dist/index.d.ts",default:"./dist/index.js"},import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"}}},license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation-contract"},bugs:"https://github.com/prisma/prisma/issues",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"vitest run"},files:["dist"],sideEffects:!1,devDependencies:{"@opentelemetry/api":"1.9.0"},peerDependencies:{"@opentelemetry/api":"^1.8"}};var Sm=pl.version.split(".")[0],vm="PRISMA_INSTRUMENTATION",Cm=`V${Sm}_PRISMA_INSTRUMENTATION`,dl=globalThis;function ml(){let e=dl[Cm];return e?.helper?e.helper:dl[vm]?.helper}var Rm={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Ji=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return ml()??Rm}};function fl(){return new Ji}u();l();c();p();d();function gl(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}u();l();c();p();d();function yl(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}u();l();c();p();d();var wl=require("@prisma/client-runtime-utils");u();l();c();p();d();function Gi(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Hi(e.query.arguments)),t.push(Hi(e.query.selection)),t.join("")}function Hi(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${Hi(n)})`:r}).join(" ")})`}u();l();c();p();d();var Im={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function Wi(e){return Im[e]}u();l();c();p();d();var Sn=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,y.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};u();l();c();p();d();var hl=require("@prisma/client-runtime-utils");function nt(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=g.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new hl.Decimal(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>nt("bigint",r));case"bytes-array":return t.map(r=>nt("bytes",r));case"decimal-array":return t.map(r=>nt("decimal",r));case"datetime-array":return t.map(r=>nt("datetime",r));case"date-array":return t.map(r=>nt("date",r));case"time-array":return t.map(r=>nt("time",r));default:return t}}function vn(e){let t=[],r=km(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=nt(e.types[s],i[s]);t.push(o)}return t}function km(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Om=te("prisma:client:request_handler"),Cn=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new Sn({batchLoader:Us(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(A=>A.protocolQuery),m=this.client._tracingHelper.getTraceParent(s),f=n.some(A=>Wi(A.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:m,transaction:Nm(o),containsWrite:f,customDataProxyFetch:i})).map((A,C)=>{if(A instanceof Error)return A;try{return this.mapQueryEngineResult(n[C],A)}catch(S){return S}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?bl(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:Wi(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>{if(n.transaction?.kind==="itx"){let i=Gi(n.protocolQuery);return`itx-${n.transaction.id}${i?`-${i}`:""}`}return n.transaction?.id?`transaction-${n.transaction.id}`:Gi(n.protocolQuery)},batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return y.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(Om(t),Dm(t,i))throw t;if(t instanceof D.PrismaClientKnownRequestError&&Mm(t)){let f=xl(t.meta);$r({args:o,errors:[f],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let m=t.message;if(n&&(m=kr({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:m})),m=this.sanitizeMessage(m),t.code){let f=s?{modelName:s,...t.meta}:t.meta;throw new D.PrismaClientKnownRequestError(m,{code:t.code,clientVersion:this.client._clientVersion,meta:f,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new D.PrismaClientRustPanicError(m,this.client._clientVersion);if(t instanceof D.PrismaClientUnknownRequestError)throw new D.PrismaClientUnknownRequestError(m,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof D.PrismaClientInitializationError)throw new D.PrismaClientInitializationError(m,this.client._clientVersion);if(t instanceof D.PrismaClientRustPanicError)throw new D.PrismaClientRustPanicError(m,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?lt(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(f=>f!=="select"&&f!=="include"),a=Xn(o,s),m=i==="queryRaw"?vn(a):ye(a);return n?n(m):m}get[Symbol.toStringTag](){return"RequestHandler"}};function Nm(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:bl(e)};ke(e,"Unknown transaction kind")}}function bl(e){return{id:e.id,payload:e.payload}}function Dm(e,t){return(0,wl.hasBatchIndex)(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Mm(e){return e.code==="P2009"||e.code==="P2012"}function xl(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(xl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}u();l();c();p();d();var zi=gn;u();l();c();p();d();var Sl=Qe(Jn());u();l();c();p();d();var j=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};Ut(j,"PrismaClientConstructorValidationError");var El=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","comments","__internal"],Pl=["pretty","colorless","minimal"],Tl=["info","query","warn","error"],Lm={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new j(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new j('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new j(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!Pl.includes(e)){let t=mr(e,Pl);throw new j(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new j(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!Tl.includes(r)){let n=mr(r,Tl);throw new j(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=mr(i,o);throw new j(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new j(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new j(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new j(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new j('"omit" option is expected to be an object.');if(e===null)throw new j('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=$m(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let m=o.fields.find(f=>f.name===s);if(!m){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(m.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new j(Vm(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new j(`Invalid value ${JSON.stringify(e)} for "comments" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!="function")throw new j(`Invalid value at index ${t} for "comments" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new j(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=mr(r,t);throw new j(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function _m(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new j('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new j('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function vl(e,t){for(let[r,n]of Object.entries(e)){if(!El.includes(r)){let i=mr(r,El);throw new j(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}Lm[r](n,t)}_m(e)}function mr(e,t){if(t.length===0||typeof e!="string")return"";let r=Fm(e,t);return r?` Did you mean "${r}"?`:""}function Fm(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,Sl.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function $m(e,t){return Al(t.models,e)??Al(t.types,e)}function Al(e,t){let r=Object.keys(e).find(n=>Le(n)===t);if(r)return e[r]}function Vm(e,t){let r=wt(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=Fr(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}u();l();c();p();d();var Cl=require("@prisma/client-runtime-utils");function Rl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},m=f=>{o||(o=!0,r(f))};for(let f=0;f<e.length;f++)e[f].then(T=>{n[f]=T,a()},T=>{if(!(0,Cl.hasBatchIndex)(T)){m(T);return}T.batchRequestIdx===f?m(T):(i||(i=T),a())})})}var fr=te("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Um={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},qm=Symbol.for("prisma.client.transaction.id"),Bm={id:0,nextId(){return++this.id}};function Ol(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Qi();constructor(n){if(!n)throw new D.PrismaClientInitializationError("`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\n\n```\nnew PrismaClient({\n  ...\n})\n```\n\nor\n\n```\nconstructor() {\n  super({ ... });\n}\n```\n          ",zi);e=n.__internal?.configOverride?.(e)??e,vl(n,e);let i=new Jr().on("error",()=>{});this._extensions=bt.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??zi,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=fl();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new D.PrismaClientInitializationError(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},m=(s.__internal??{}).debug===!0;if(m&&te.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:y.env.NODE_ENV==="production"?this._errorFormat="minimal":y.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:m,logLevel:s.log&&yl(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(f=>typeof f=="string"?f==="query":f.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments,parameterizationSchema:e.parameterizationSchema,runtimeDataModel:e.runtimeDataModel},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new D.PrismaClientInitializationError(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},fr("clientVersion",e.clientVersion),this._engine=Yu(this._engineConfig),this._requestHandler=new Cn(this,i),s.log)for(let f of s.log){let T=typeof f=="string"?f:f.emit==="stdout"?f.level:null;T&&this.$on(T,A=>{Vt.log(`${Vt.tags[T]??""}`,A.message||A.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=Kt(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{Co()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:ji({clientMethod:i,activeProvider:a}),callsite:$e(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=Il(n,i);return Bi(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new D.PrismaClientValidationError("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(Bi(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new D.PrismaClientValidationError(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Xu,callsite:$e(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:ji({clientMethod:i,activeProvider:a}),callsite:$e(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...Il(n,i));throw new D.PrismaClientValidationError("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new D.PrismaClientValidationError("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Bm.nextId(),s=gl(n.length),a=n.map((m,f)=>{if(m?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let T=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,A={kind:"batch",id:o,index:f,isolationLevel:T,lock:s};return m.requestTransaction?.(A)??m});return Rl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),m;try{let f={kind:"itx",...a};m=await n(this._createItxClient(f)),await this._engine.transaction("commit",o,a)}catch(f){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),f}return m}_createItxClient(n){return ge(Kt(ge(ks(this),[ie("_appliedParent",()=>this._appliedParent._createItxClient(n)),ie("_createPrismaPromise",()=>Qi(n)),ie(qm,()=>n.id)])),[xt(Ls)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Um,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async m=>{let{runInTransaction:f,args:T,...A}=m,C={...n,...A};T&&(C.args=i.middlewareArgsToRequestArgs(T)),n.transaction!==void 0&&f===!1&&delete C.transaction;let S=await Vs(this,C);if(!C.model)return S;let N=Qs({dataPath:C.dataPath,modelName:C.model,args:C.args,runtimeDataModel:this._runtimeDataModel});return Ms({result:S,modelName:N.modelName,args:N.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit})};return this._tracingHelper.runInChildSpan(s.operation,()=>a(o))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:m,argsMapper:f,transaction:T,unpacker:A,otelParentCtx:C,customDataProxyFetch:S}){try{n=f?f(n):n;let N={name:"serialize"},R=this._tracingHelper.runInChildSpan(N,()=>Br({modelName:m,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return te.enabled("prisma:client")&&(fr("Prisma Client call:"),fr(`prisma.${i}(${xs(n)})`),fr("Generated request:"),fr(JSON.stringify(R,null,2)+`
`)),T?.kind==="batch"&&await T.lock,this._requestHandler.request({protocolQuery:R,modelName:m,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:T,unpacker:A,otelParentCtx:C,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:S})}catch(N){throw N.clientVersion=this._clientVersion,N}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=Os}return t}function Il(e,t){return jm(e)?[new kl.Sql(e,t),ul]:[e,ll]}function jm(e){return Array.isArray(e)&&Array.isArray(e.raw)}u();l();c();p();d();var Qm=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Nl(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Qm.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}u();l();c();p();d();var Jm=()=>globalThis.process?.release?.name==="node",Hm=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Gm=()=>!!globalThis.Deno,Wm=()=>typeof globalThis.Netlify=="object",zm=()=>typeof globalThis.EdgeRuntime=="object",Km=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function Zm(){return[[Wm,"netlify"],[zm,"edge-light"],[Km,"workerd"],[Gm,"deno"],[Hm,"bun"],[Jm,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var Ym={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Dl(){let e=Zm();return{id:e,prettyName:Ym[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var D=require("@prisma/client-runtime-utils"),Re=require("@prisma/client-runtime-utils"),re=require("@prisma/client-runtime-utils"),Ml=require("@prisma/client-runtime-utils");0&&(module.exports={AnyNull,DMMF,DbNull,Debug,Decimal,Extensions,JsonNull,NullTypes,ObjectEnumValue,PrismaClientInitializationError,PrismaClientKnownRequestError,PrismaClientRustPanicError,PrismaClientUnknownRequestError,PrismaClientValidationError,Public,Sql,createParam,defineDmmfProperty,deserializeJsonObject,deserializeRawResult,dmmfToRuntimeDataModel,empty,getPrismaClient,getRuntime,isAnyNull,isDbNull,isJsonNull,join,makeStrictEnum,makeTypedQueryFactory,raw,serializeJsonQuery,skip,sqltag,warnOnce});
//# sourceMappingURL=wasm-compiler-edge.js.map
